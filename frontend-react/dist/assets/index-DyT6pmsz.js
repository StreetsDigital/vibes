(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function l(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=l(o);fetch(o.href,a)}})();var ne,w,Me,U,ye,Oe,je,He,_e,oe,se,q={},Ee=[],tt=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,le=Array.isArray;function H(t,e){for(var l in e)t[l]=e[l];return t}function me(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function nt(t,e,l){var r,o,a,i={};for(a in e)a=="key"?r=e[a]:a=="ref"?o=e[a]:i[a]=e[a];if(arguments.length>2&&(i.children=arguments.length>3?ne.call(arguments,2):l),typeof t=="function"&&t.defaultProps!=null)for(a in t.defaultProps)i[a]===void 0&&(i[a]=t.defaultProps[a]);return Y(t,i,r,o,null)}function Y(t,e,l,r,o){var a={type:t,props:e,key:l,ref:r,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:o??++Me,__i:-1,__u:0};return o==null&&w.vnode!=null&&w.vnode(a),a}function G(t){return t.children}function Z(t,e){this.props=t,this.context=e}function W(t,e){if(e==null)return t.__?W(t.__,t.__i+1):null;for(var l;e<t.__k.length;e++)if((l=t.__k[e])!=null&&l.__e!=null)return l.__e;return typeof t.type=="function"?W(t):null}function Le(t){var e,l;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((l=t.__k[e])!=null&&l.__e!=null){t.__e=t.__c.base=l.__e;break}return Le(t)}}function ve(t){(!t.__d&&(t.__d=!0)&&U.push(t)&&!te.__r++||ye!=w.debounceRendering)&&((ye=w.debounceRendering)||Oe)(te)}function te(){for(var t,e,l,r,o,a,i,c=1;U.length;)U.length>c&&U.sort(je),t=U.shift(),c=U.length,t.__d&&(l=void 0,r=void 0,o=(r=(e=t).__v).__e,a=[],i=[],e.__P&&((l=H({},r)).__v=r.__v+1,w.vnode&&w.vnode(l),pe(e.__P,l,r,e.__n,e.__P.namespaceURI,32&r.__u?[o]:null,a,o??W(r),!!(32&r.__u),i),l.__v=r.__v,l.__.__k[l.__i]=l,Be(a,l,i),r.__e=r.__=null,l.__e!=o&&Le(l)));te.__r=0}function Ie(t,e,l,r,o,a,i,c,m,d,p){var s,f,h,v,C,y,b,u=r&&r.__k||Ee,g=e.length;for(m=lt(l,e,u,m,g),s=0;s<g;s++)(h=l.__k[s])!=null&&(f=h.__i==-1?q:u[h.__i]||q,h.__i=s,y=pe(t,h,f,o,a,i,c,m,d,p),v=h.__e,h.ref&&f.ref!=h.ref&&(f.ref&&he(f.ref,null,h),p.push(h.ref,h.__c||v,h)),C==null&&v!=null&&(C=v),(b=!!(4&h.__u))||f.__k===h.__k?m=Ue(h,m,t,b):typeof h.type=="function"&&y!==void 0?m=y:v&&(m=v.nextSibling),h.__u&=-7);return l.__e=C,m}function lt(t,e,l,r,o){var a,i,c,m,d,p=l.length,s=p,f=0;for(t.__k=new Array(o),a=0;a<o;a++)(i=e[a])!=null&&typeof i!="boolean"&&typeof i!="function"?(typeof i=="string"||typeof i=="number"||typeof i=="bigint"||i.constructor==String?i=t.__k[a]=Y(null,i,null,null,null):le(i)?i=t.__k[a]=Y(G,{children:i},null,null,null):i.constructor===void 0&&i.__b>0?i=t.__k[a]=Y(i.type,i.props,i.key,i.ref?i.ref:null,i.__v):t.__k[a]=i,m=a+f,i.__=t,i.__b=t.__b+1,c=null,(d=i.__i=rt(i,l,m,s))!=-1&&(s--,(c=l[d])&&(c.__u|=2)),c==null||c.__v==null?(d==-1&&(o>p?f--:o<p&&f++),typeof i.type!="function"&&(i.__u|=4)):d!=m&&(d==m-1?f--:d==m+1?f++:(d>m?f--:f++,i.__u|=4))):t.__k[a]=null;if(s)for(a=0;a<p;a++)(c=l[a])!=null&&(2&c.__u)==0&&(c.__e==r&&(r=W(c)),We(c,c));return r}function Ue(t,e,l,r){var o,a;if(typeof t.type=="function"){for(o=t.__k,a=0;o&&a<o.length;a++)o[a]&&(o[a].__=t,e=Ue(o[a],e,l,r));return e}t.__e!=e&&(r&&(e&&t.type&&!e.parentNode&&(e=W(t)),l.insertBefore(t.__e,e||null)),e=t.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType==8);return e}function rt(t,e,l,r){var o,a,i,c=t.key,m=t.type,d=e[l],p=d!=null&&(2&d.__u)==0;if(d===null&&c==null||p&&c==d.key&&m==d.type)return l;if(r>(p?1:0)){for(o=l-1,a=l+1;o>=0||a<e.length;)if((d=e[i=o>=0?o--:a++])!=null&&(2&d.__u)==0&&c==d.key&&m==d.type)return i}return-1}function be(t,e,l){e[0]=="-"?t.setProperty(e,l??""):t[e]=l==null?"":typeof l!="number"||tt.test(e)?l:l+"px"}function K(t,e,l,r,o){var a,i;e:if(e=="style")if(typeof l=="string")t.style.cssText=l;else{if(typeof r=="string"&&(t.style.cssText=r=""),r)for(e in r)l&&e in l||be(t.style,e,"");if(l)for(e in l)r&&l[e]==r[e]||be(t.style,e,l[e])}else if(e[0]=="o"&&e[1]=="n")a=e!=(e=e.replace(He,"$1")),i=e.toLowerCase(),e=i in t||e=="onFocusOut"||e=="onFocusIn"?i.slice(2):e.slice(2),t.l||(t.l={}),t.l[e+a]=l,l?r?l.u=r.u:(l.u=_e,t.addEventListener(e,a?se:oe,a)):t.removeEventListener(e,a?se:oe,a);else{if(o=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in t)try{t[e]=l??"";break e}catch{}typeof l=="function"||(l==null||l===!1&&e[4]!="-"?t.removeAttribute(e):t.setAttribute(e,e=="popover"&&l==1?"":l))}}function xe(t){return function(e){if(this.l){var l=this.l[e.type+t];if(e.t==null)e.t=_e++;else if(e.t<l.u)return;return l(w.event?w.event(e):e)}}}function pe(t,e,l,r,o,a,i,c,m,d){var p,s,f,h,v,C,y,b,u,g,S,O,A,L,B,I,R,M=e.type;if(e.constructor!==void 0)return null;128&l.__u&&(m=!!(32&l.__u),a=[c=e.__e=l.__e]),(p=w.__b)&&p(e);e:if(typeof M=="function")try{if(b=e.props,u="prototype"in M&&M.prototype.render,g=(p=M.contextType)&&r[p.__c],S=p?g?g.props.value:p.__:r,l.__c?y=(s=e.__c=l.__c).__=s.__E:(u?e.__c=s=new M(b,S):(e.__c=s=new Z(b,S),s.constructor=M,s.render=ot),g&&g.sub(s),s.state||(s.state={}),s.__n=r,f=s.__d=!0,s.__h=[],s._sb=[]),u&&s.__s==null&&(s.__s=s.state),u&&M.getDerivedStateFromProps!=null&&(s.__s==s.state&&(s.__s=H({},s.__s)),H(s.__s,M.getDerivedStateFromProps(b,s.__s))),h=s.props,v=s.state,s.__v=e,f)u&&M.getDerivedStateFromProps==null&&s.componentWillMount!=null&&s.componentWillMount(),u&&s.componentDidMount!=null&&s.__h.push(s.componentDidMount);else{if(u&&M.getDerivedStateFromProps==null&&b!==h&&s.componentWillReceiveProps!=null&&s.componentWillReceiveProps(b,S),e.__v==l.__v||!s.__e&&s.shouldComponentUpdate!=null&&s.shouldComponentUpdate(b,s.__s,S)===!1){for(e.__v!=l.__v&&(s.props=b,s.state=s.__s,s.__d=!1),e.__e=l.__e,e.__k=l.__k,e.__k.some(function(E){E&&(E.__=e)}),O=0;O<s._sb.length;O++)s.__h.push(s._sb[O]);s._sb=[],s.__h.length&&i.push(s);break e}s.componentWillUpdate!=null&&s.componentWillUpdate(b,s.__s,S),u&&s.componentDidUpdate!=null&&s.__h.push(function(){s.componentDidUpdate(h,v,C)})}if(s.context=S,s.props=b,s.__P=t,s.__e=!1,A=w.__r,L=0,u){for(s.state=s.__s,s.__d=!1,A&&A(e),p=s.render(s.props,s.state,s.context),B=0;B<s._sb.length;B++)s.__h.push(s._sb[B]);s._sb=[]}else do s.__d=!1,A&&A(e),p=s.render(s.props,s.state,s.context),s.state=s.__s;while(s.__d&&++L<25);s.state=s.__s,s.getChildContext!=null&&(r=H(H({},r),s.getChildContext())),u&&!f&&s.getSnapshotBeforeUpdate!=null&&(C=s.getSnapshotBeforeUpdate(h,v)),I=p,p!=null&&p.type===G&&p.key==null&&(I=Fe(p.props.children)),c=Ie(t,le(I)?I:[I],e,l,r,o,a,i,c,m,d),s.base=e.__e,e.__u&=-161,s.__h.length&&i.push(s),y&&(s.__E=s.__=null)}catch(E){if(e.__v=null,m||a!=null)if(E.then){for(e.__u|=m?160:128;c&&c.nodeType==8&&c.nextSibling;)c=c.nextSibling;a[a.indexOf(c)]=null,e.__e=c}else{for(R=a.length;R--;)me(a[R]);ie(e)}else e.__e=l.__e,e.__k=l.__k,E.then||ie(e);w.__e(E,e,l)}else a==null&&e.__v==l.__v?(e.__k=l.__k,e.__e=l.__e):c=e.__e=at(l.__e,e,l,r,o,a,i,m,d);return(p=w.diffed)&&p(e),128&e.__u?void 0:c}function ie(t){t&&t.__c&&(t.__c.__e=!0),t&&t.__k&&t.__k.forEach(ie)}function Be(t,e,l){for(var r=0;r<l.length;r++)he(l[r],l[++r],l[++r]);w.__c&&w.__c(e,t),t.some(function(o){try{t=o.__h,o.__h=[],t.some(function(a){a.call(o)})}catch(a){w.__e(a,o.__v)}})}function Fe(t){return typeof t!="object"||t==null||t.__b&&t.__b>0?t:le(t)?t.map(Fe):H({},t)}function at(t,e,l,r,o,a,i,c,m){var d,p,s,f,h,v,C,y=l.props||q,b=e.props,u=e.type;if(u=="svg"?o="http://www.w3.org/2000/svg":u=="math"?o="http://www.w3.org/1998/Math/MathML":o||(o="http://www.w3.org/1999/xhtml"),a!=null){for(d=0;d<a.length;d++)if((h=a[d])&&"setAttribute"in h==!!u&&(u?h.localName==u:h.nodeType==3)){t=h,a[d]=null;break}}if(t==null){if(u==null)return document.createTextNode(b);t=document.createElementNS(o,u,b.is&&b),c&&(w.__m&&w.__m(e,a),c=!1),a=null}if(u==null)y===b||c&&t.data==b||(t.data=b);else{if(a=a&&ne.call(t.childNodes),!c&&a!=null)for(y={},d=0;d<t.attributes.length;d++)y[(h=t.attributes[d]).name]=h.value;for(d in y)if(h=y[d],d!="children"){if(d=="dangerouslySetInnerHTML")s=h;else if(!(d in b)){if(d=="value"&&"defaultValue"in b||d=="checked"&&"defaultChecked"in b)continue;K(t,d,null,h,o)}}for(d in b)h=b[d],d=="children"?f=h:d=="dangerouslySetInnerHTML"?p=h:d=="value"?v=h:d=="checked"?C=h:c&&typeof h!="function"||y[d]===h||K(t,d,h,y[d],o);if(p)c||s&&(p.__html==s.__html||p.__html==t.innerHTML)||(t.innerHTML=p.__html),e.__k=[];else if(s&&(t.innerHTML=""),Ie(e.type=="template"?t.content:t,le(f)?f:[f],e,l,r,u=="foreignObject"?"http://www.w3.org/1999/xhtml":o,a,i,a?a[0]:l.__k&&W(l,0),c,m),a!=null)for(d=a.length;d--;)me(a[d]);c||(d="value",u=="progress"&&v==null?t.removeAttribute("value"):v!=null&&(v!==t[d]||u=="progress"&&!v||u=="option"&&v!=y[d])&&K(t,d,v,y[d],o),d="checked",C!=null&&C!=t[d]&&K(t,d,C,y[d],o))}return t}function he(t,e,l){try{if(typeof t=="function"){var r=typeof t.__u=="function";r&&t.__u(),r&&e==null||(t.__u=t(e))}else t.current=e}catch(o){w.__e(o,l)}}function We(t,e,l){var r,o;if(w.unmount&&w.unmount(t),(r=t.ref)&&(r.current&&r.current!=t.__e||he(r,null,e)),(r=t.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(a){w.__e(a,e)}r.base=r.__P=null}if(r=t.__k)for(o=0;o<r.length;o++)r[o]&&We(r[o],e,l||typeof t.type!="function");l||me(t.__e),t.__c=t.__=t.__e=void 0}function ot(t,e,l){return this.constructor(t,l)}function st(t,e,l){var r,o,a,i;e==document&&(e=document.documentElement),w.__&&w.__(t,e),o=(r=!1)?null:e.__k,a=[],i=[],pe(e,t=e.__k=nt(G,null,[t]),o||q,q,e.namespaceURI,o?null:e.firstChild?ne.call(e.childNodes):null,a,o?o.__e:e.firstChild,r,i),Be(a,t,i)}ne=Ee.slice,w={__e:function(t,e,l,r){for(var o,a,i;e=e.__;)if((o=e.__c)&&!o.__)try{if((a=o.constructor)&&a.getDerivedStateFromError!=null&&(o.setState(a.getDerivedStateFromError(t)),i=o.__d),o.componentDidCatch!=null&&(o.componentDidCatch(t,r||{}),i=o.__d),i)return o.__E=o}catch(c){t=c}throw t}},Me=0,Z.prototype.setState=function(t,e){var l;l=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=H({},this.state),typeof t=="function"&&(t=t(H({},l),this.props)),t&&H(l,t),t!=null&&this.__v&&(e&&this._sb.push(e),ve(this))},Z.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),ve(this))},Z.prototype.render=G,U=[],Oe=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,je=function(t,e){return t.__v.__b-e.__v.__b},te.__r=0,He=/(PointerCapture)$|Capture$/i,_e=0,oe=xe(!1),se=xe(!0);var it=0;function n(t,e,l,r,o,a){e||(e={});var i,c,m=e;if("ref"in m)for(c in m={},e)c=="ref"?i=e[c]:m[c]=e[c];var d={type:t,props:m,key:l,ref:i,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--it,__i:-1,__u:0,__source:o,__self:a};if(typeof t=="function"&&(i=t.defaultProps))for(c in i)m[c]===void 0&&(m[c]=i[c]);return w.vnode&&w.vnode(d),d}var J,T,re,Ne,V=0,Re=[],P=w,ke=P.__b,we=P.__r,Ce=P.diffed,Se=P.__c,Te=P.unmount,Pe=P.__;function fe(t,e){P.__h&&P.__h(T,t,V||e),V=0;var l=T.__H||(T.__H={__:[],__h:[]});return t>=l.__.length&&l.__.push({}),l.__[t]}function x(t){return V=1,ct(Je,t)}function ct(t,e,l){var r=fe(J++,2);if(r.t=t,!r.__c&&(r.__=[Je(void 0,e),function(c){var m=r.__N?r.__N[0]:r.__[0],d=r.t(m,c);m!==d&&(r.__N=[d,r.__[1]],r.__c.setState({}))}],r.__c=T,!T.__f)){var o=function(c,m,d){if(!r.__c.__H)return!0;var p=r.__c.__H.__.filter(function(f){return!!f.__c});if(p.every(function(f){return!f.__N}))return!a||a.call(this,c,m,d);var s=r.__c.props!==c;return p.forEach(function(f){if(f.__N){var h=f.__[0];f.__=f.__N,f.__N=void 0,h!==f.__[0]&&(s=!0)}}),a&&a.call(this,c,m,d)||s};T.__f=!0;var a=T.shouldComponentUpdate,i=T.componentWillUpdate;T.componentWillUpdate=function(c,m,d){if(this.__e){var p=a;a=void 0,o(c,m,d),a=p}i&&i.call(this,c,m,d)},T.shouldComponentUpdate=o}return r.__N||r.__}function ge(t,e){var l=fe(J++,3);!P.__s&&qe(l.__H,e)&&(l.__=t,l.u=e,T.__H.__h.push(l))}function $e(t){return V=5,ze(function(){return{current:t}},[])}function ze(t,e){var l=fe(J++,7);return qe(l.__H,e)&&(l.__=t(),l.__H=e,l.__h=t),l.__}function N(t,e){return V=8,ze(function(){return t},e)}function dt(){for(var t;t=Re.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(ee),t.__H.__h.forEach(ce),t.__H.__h=[]}catch(e){t.__H.__h=[],P.__e(e,t.__v)}}P.__b=function(t){T=null,ke&&ke(t)},P.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),Pe&&Pe(t,e)},P.__r=function(t){we&&we(t),J=0;var e=(T=t.__c).__H;e&&(re===T?(e.__h=[],T.__h=[],e.__.forEach(function(l){l.__N&&(l.__=l.__N),l.u=l.__N=void 0})):(e.__h.forEach(ee),e.__h.forEach(ce),e.__h=[],J=0)),re=T},P.diffed=function(t){Ce&&Ce(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(Re.push(e)!==1&&Ne===P.requestAnimationFrame||((Ne=P.requestAnimationFrame)||ut)(dt)),e.__H.__.forEach(function(l){l.u&&(l.__H=l.u),l.u=void 0})),re=T=null},P.__c=function(t,e){e.some(function(l){try{l.__h.forEach(ee),l.__h=l.__h.filter(function(r){return!r.__||ce(r)})}catch(r){e.some(function(o){o.__h&&(o.__h=[])}),e=[],P.__e(r,l.__v)}}),Se&&Se(t,e)},P.unmount=function(t){Te&&Te(t);var e,l=t.__c;l&&l.__H&&(l.__H.__.forEach(function(r){try{ee(r)}catch(o){e=o}}),l.__H=void 0,e&&P.__e(e,l.__v))};var De=typeof requestAnimationFrame=="function";function ut(t){var e,l=function(){clearTimeout(r),De&&cancelAnimationFrame(e),setTimeout(t)},r=setTimeout(l,35);De&&(e=requestAnimationFrame(l))}function ee(t){var e=T,l=t.__c;typeof l=="function"&&(t.__c=void 0,l()),T=e}function ce(t){var e=T;t.__c=t.__(),T=e}function qe(t,e){return!t||t.length!==e.length||e.some(function(l,r){return l!==t[r]})}function Je(t,e){return typeof e=="function"?e(t):e}const de="/api";async function k(t,e){return(await fetch(`${de}${t}`,{...e,headers:{"Content-Type":"application/json",...e?.headers}})).json()}function _t(){const[t,e]=x(null),[l,r]=x(!1),o=N(async()=>{r(!0);try{const c=await k("/board");e(c)}finally{r(!1)}},[]),a=N(async c=>{await k("/task",{method:"POST",body:JSON.stringify(c)}),await o()},[o]),i=N(async(c,m)=>{await k(`/task/${c}/move`,{method:"POST",body:JSON.stringify({status:m})}),await o()},[o]);return{board:t,loading:l,refresh:o,createTask:a,moveTask:i}}function mt(){const[t,e]=x([]),[l,r]=x(!1),[o,a]=x(null),i=N(async()=>{const p=await k("/chat/history");e(p.messages||[])},[]),c=N(async p=>{const s={role:"user",content:p};e(h=>[...h,s]),r(!0);const f=new AbortController;a(f);try{const C={role:"assistant",content:(await(await fetch(`${de}/chat`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:p}),signal:f.signal})).json()).response};e(y=>[...y,C])}catch(h){if(h.name==="AbortError"){const v={role:"assistant",content:"*(Stopped)*"};e(C=>[...C,v])}else{const v={role:"error",content:"Error: Could not reach Claude"};e(C=>[...C,v])}}finally{r(!1),a(null)}},[]),m=N(()=>{o&&(o.abort(),fetch(`${de}/chat/stop`,{method:"POST"}).catch(()=>{}))},[o]),d=N(async()=>{await k("/chat/history",{method:"DELETE"}),e([])},[]);return{messages:t,loading:l,loadHistory:i,sendMessage:c,stopGeneration:m,clearHistory:d}}function pt(){const[t,e]=x([]),[l,r]=x(""),o=N(async()=>{const i=await k("/projects");e(i.projects||[]);const c=i.projects?.find(m=>m.current);c&&r(c.name)},[]),a=N(async i=>{const c=await k("/projects/switch",{method:"POST",body:JSON.stringify({path:i})});return c.success&&r(c.project),c.success},[]);return{projects:t,currentProject:l,load:o,switchProject:a}}function ht(){const[t,e]=x([]),l=N(async()=>{const m=await k("/claude/mcp");e(m.servers||[])},[]),r=N(async m=>{await k("/claude/mcp",{method:"POST",body:JSON.stringify(m)}),await l()},[l]),o=N(async(m,d)=>{await k(`/claude/mcp/${m}`,{method:"PUT",body:JSON.stringify(d)}),await l()},[l]),a=N(async(m,d)=>{await k(`/claude/mcp/${m}`,{method:"DELETE",body:JSON.stringify({scope:d})}),await l()},[l]),i=N(async(m,d,p)=>{await k(`/claude/mcp/${m}/toggle`,{method:"POST",body:JSON.stringify({scope:d,enabled:p})}),await l()},[l]),c=N(async(m,d)=>{try{return await k(`/claude/mcp/${m}?scope=${d}`)}catch{return null}},[]);return{servers:t,load:l,add:r,update:o,remove:a,toggle:i,getOne:c}}function ft(){const[t,e]=x([]),l=N(async()=>{const c=await k("/claude/skills");e(c.skills||[])},[]),r=N(async c=>{await k("/claude/skills",{method:"POST",body:JSON.stringify(c)}),await l()},[l]),o=N(async c=>(await k(`/claude/skills${c}`)).content||"",[]),a=N(async(c,m)=>{await k(`/claude/skills${c}`,{method:"PUT",body:JSON.stringify({content:m})}),await l()},[l]),i=N(async c=>{await k(`/claude/skills${c}`,{method:"DELETE"}),await l()},[l]);return{skills:t,load:l,create:r,getContent:o,updateContent:a,remove:i}}function gt(){const[t,e]=x([]),l=N(async()=>{const a=await k("/claude/tools");e(a.tools||[])},[]),r=N(async(a,i)=>{await k(`/claude/tools/${a}/toggle`,{method:"POST",body:JSON.stringify({enabled:i,scope:"project"})}),await l()},[l]),o=N(async a=>{try{return await k(`/claude/tools/${a}`)}catch{return null}},[]);return{tools:t,load:l,toggle:r,getDetails:o}}function yt(){const[t,e]=x([]),l=N(async()=>{const i=await k("/claude/hooks");e(i.hooks||[])},[]),r=N(async i=>{await k("/claude/hooks",{method:"POST",body:JSON.stringify(i)}),await l()},[l]),o=N(async(i,c)=>{await k("/claude/hooks",{method:"PUT",body:JSON.stringify({old_event:i.event,old_command:i.command,old_scope:i.scope,event:c.event,command:c.command,scope:c.scope})}),await l()},[l]),a=N(async(i,c,m)=>{await k("/claude/hooks",{method:"DELETE",body:JSON.stringify({event:i,command:c,scope:m})}),await l()},[l]);return{hooks:t,load:l,add:r,update:o,remove:a}}function vt(){const[t,e]=x("main"),l=N(async()=>{const r=await k("/git/branch");e(r.branch||"main")},[]);return{branch:t,loadBranch:l}}function bt(){return{ping:N(async()=>await k("/session/ping",{method:"POST"}),[])}}function xt({task:t,onClick:e,onDragStart:l}){return n("div",{className:"bg-gray-700 rounded-lg p-3 cursor-pointer hover:bg-gray-600 active:bg-gray-500 transition-colors touch-manipulation",draggable:!0,onDragStart:r=>l(r,t.id),onClick:e,children:[n("div",{className:"flex items-start justify-between gap-2",children:[n("span",{className:"font-medium text-sm",children:t.name}),t.priority>50&&n("span",{className:"text-xs bg-red-500/20 text-red-400 px-1.5 py-0.5 rounded",children:"High"})]}),t.description&&n("p",{className:"text-xs text-gray-400 mt-1 line-clamp-2",children:t.description}),t.test_cases&&t.test_cases.length>0&&n("div",{className:"text-xs text-gray-500 mt-2",children:[t.test_cases.length," tests"]})]})}function j({isOpen:t,onClose:e,title:l,children:r}){return t?n("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:e,children:n("div",{className:"bg-gray-800 rounded-xl p-5 w-full max-w-md max-h-[90vh] overflow-y-auto",onClick:o=>o.stopPropagation(),children:[n("div",{className:"flex justify-between items-start mb-4",children:[n("h3",{className:"text-lg font-semibold",children:l}),n("button",{onClick:e,className:"text-gray-500 hover:text-gray-300 p-1 -mr-1",children:"✕"})]}),r]})}):null}function Nt({isOpen:t,onClose:e,children:l}){return t?n("div",{className:"fixed inset-0 bg-black/50 flex items-end justify-center z-50",onClick:e,children:n("div",{className:"bg-gray-800 rounded-t-2xl w-full max-w-lg p-4 safe-bottom",onClick:r=>r.stopPropagation(),children:[n("div",{className:"w-12 h-1 bg-gray-600 rounded-full mx-auto mb-4"}),l]})}):null}const kt=[{id:"pending",key:"todo",label:"To Do",color:"bg-gray-500"},{id:"in_progress",key:"in_progress",label:"In Progress",color:"bg-blue-500"},{id:"needs_review",key:"review",label:"Review",color:"bg-yellow-500"},{id:"passing",key:"done",label:"Done",color:"bg-green-500"}];function wt({data:t,onMoveTask:e,onAddTask:l,onWorkOnTask:r}){const[o,a]=x(!1),[i,c]=x(null),[m,d]=x({name:"",description:"",testCases:""}),[p,s]=x(null),f=(u,g)=>{u.dataTransfer?.setData("taskId",g)},h=(u,g)=>{u.preventDefault(),s(g)},v=(u,g)=>{u.preventDefault(),s(null);const S=u.dataTransfer?.getData("taskId");S&&e(S,g)},C=u=>{u.preventDefault(),l({name:m.name,description:m.description,test_cases:m.testCases.split(`
`).filter(g=>g.trim()),priority:0}),d({name:"",description:"",testCases:""}),a(!1)},y=u=>t?.board?t.board[u]||[]:[],b=u=>y(u).length;return n("div",{className:"flex-1 flex flex-col overflow-hidden",children:[n("div",{className:"flex-1 overflow-x-auto overflow-y-auto kanban-scroll p-4",children:n("div",{className:"flex md:grid md:grid-cols-4 gap-3 min-w-max md:min-w-0",children:kt.map(u=>n("div",{className:`w-72 md:w-auto bg-gray-800 rounded-lg p-3 flex-shrink-0 ${p===u.id?"ring-2 ring-blue-500":""}`,onDragOver:g=>h(g,u.id),onDragLeave:()=>s(null),onDrop:g=>v(g,u.id),children:[n("h2",{className:"font-semibold text-gray-300 mb-3 flex items-center gap-2 text-sm",children:[n("span",{className:`w-2.5 h-2.5 ${u.color} rounded-full`}),u.label,n("span",{className:"text-xs bg-gray-700 px-2 py-0.5 rounded-full",children:b(u.key)})]}),n("div",{className:"space-y-2 min-h-[150px]",children:y(u.key).map(g=>n(xt,{task:g,onClick:()=>c(g),onDragStart:f},g.id))})]},u.id))})}),n("div",{className:"p-4 border-t border-gray-700 flex-shrink-0 safe-bottom",children:n("button",{onClick:()=>a(!0),className:"w-full md:w-auto px-4 py-3 bg-blue-600 rounded-lg hover:bg-blue-500 active:bg-blue-700 text-sm font-medium",children:"+ Add Task"})}),n(j,{isOpen:o,onClose:()=>a(!1),title:"Add New Task",children:n("form",{onSubmit:C,children:[n("div",{className:"space-y-4",children:[n("div",{children:[n("label",{className:"block text-sm text-gray-400 mb-1",children:"Name"}),n("input",{type:"text",value:m.name,onInput:u=>d({...m,name:u.target.value}),required:!0,className:"w-full bg-gray-700 rounded-lg px-3 py-3 text-base focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),n("div",{children:[n("label",{className:"block text-sm text-gray-400 mb-1",children:"Description"}),n("textarea",{value:m.description,onInput:u=>d({...m,description:u.target.value}),rows:3,className:"w-full bg-gray-700 rounded-lg px-3 py-3 text-base focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),n("div",{children:[n("label",{className:"block text-sm text-gray-400 mb-1",children:"Test Cases (one per line)"}),n("textarea",{value:m.testCases,onInput:u=>d({...m,testCases:u.target.value}),rows:3,placeholder:`Test case 1
Test case 2`,className:"w-full bg-gray-700 rounded-lg px-3 py-3 text-base focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),n("div",{className:"flex gap-2 mt-6",children:[n("button",{type:"button",onClick:()=>a(!1),className:"flex-1 px-4 py-3 bg-gray-700 rounded-lg hover:bg-gray-600",children:"Cancel"}),n("button",{type:"submit",className:"flex-1 px-4 py-3 bg-blue-600 rounded-lg hover:bg-blue-500",children:"Add"})]})]})}),n(j,{isOpen:!!i,onClose:()=>c(null),title:i?.name||"",children:i&&n(G,{children:[n("div",{className:"space-y-4",children:[n("div",{children:[n("label",{className:"text-xs text-gray-500",children:"Status"}),n("p",{className:"text-sm",children:i.status})]}),i.description&&n("div",{children:[n("label",{className:"text-xs text-gray-500",children:"Description"}),n("p",{className:"text-sm",children:i.description})]}),i.test_cases&&i.test_cases.length>0&&n("div",{children:[n("label",{className:"text-xs text-gray-500",children:"Test Cases"}),n("ul",{className:"text-sm list-disc list-inside",children:i.test_cases.map((u,g)=>n("li",{children:u},g))})]})]}),n("div",{className:"flex gap-2 mt-6",children:[n("button",{onClick:()=>c(null),className:"flex-1 px-4 py-3 bg-gray-700 rounded-lg hover:bg-gray-600",children:"Close"}),n("button",{onClick:()=>{r(i),c(null)},className:"flex-1 px-4 py-3 bg-blue-600 rounded-lg hover:bg-blue-500",children:"Work on this"})]})]})})]})}function Ct({messages:t,loading:e,branch:l,onSend:r,onStop:o,onClear:a,onShowAddTask:i}){const[c,m]=x(""),[d,p]=x(!1),s=$e(null),f=$e(null);ge(()=>{s.current&&(s.current.scrollTop=s.current.scrollHeight)},[t]);const h=()=>{const u=f.current;u&&(u.style.height="auto",u.style.height=Math.min(u.scrollHeight,120)+"px")},v=()=>{const u=c.trim();!u||e||(r(u),m(""),f.current&&(f.current.style.height="auto"))},C=u=>{u.key==="Enter"&&!u.shiftKey&&(u.preventDefault(),v())},y=u=>{r(u)},b=u=>{let g=u.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");return g=g.replace(/```(\w*)\n?([\s\S]*?)```/g,(S,O,A)=>`<pre class="bg-gray-900 rounded p-3 my-2 overflow-x-auto text-xs font-mono"><code>${A.trim()}</code></pre>`),g=g.replace(/`([^`]+)`/g,'<code class="bg-gray-900 px-1.5 py-0.5 rounded text-xs font-mono">$1</code>'),g=g.replace(/\*\*([^*]+)\*\*/g,"<strong>$1</strong>"),g=g.replace(/\*([^*]+)\*/g,"<em>$1</em>"),g=g.replace(/\n/g,"<br>"),g};return n("div",{className:"flex flex-col h-full",children:[n("div",{className:"bg-gray-800 rounded-xl mx-3 mt-3 p-3 flex items-center justify-between flex-shrink-0",children:[n("div",{className:"flex-1 min-w-0",children:n("p",{className:"text-sm text-gray-300 truncate",children:l})}),n("button",{onClick:()=>y("Create a PR for current changes"),className:"ml-2 px-3 py-1 text-sm font-medium hover:bg-gray-700 rounded",children:"View PR"}),n("button",{onClick:()=>p(!0),className:"ml-1 p-1.5 hover:bg-gray-700 rounded",children:n("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:n("path",{d:"M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z"})})})]}),n("div",{ref:s,className:"flex-1 overflow-y-auto p-4 space-y-3",children:[t.length===0?n("div",{className:"text-gray-500 text-sm text-center py-8",children:"Start a conversation with Claude"}):t.map((u,g)=>n("div",{className:u.role==="user"?"bg-blue-600 rounded-lg p-3 ml-4 md:ml-8":u.role==="error"?"bg-red-600/20 text-red-400 rounded-lg p-3":"bg-gray-700 rounded-lg p-3 mr-4 md:mr-8",children:n("div",{className:"text-sm chat-content",dangerouslySetInnerHTML:{__html:b(u.content)}})},g)),e&&n("div",{className:"bg-gray-700 rounded-lg p-3 mr-4 md:mr-8",children:n("div",{className:"flex gap-1",children:[n("span",{className:"w-2 h-2 bg-gray-400 rounded-full loading-dot"}),n("span",{className:"w-2 h-2 bg-gray-400 rounded-full loading-dot"}),n("span",{className:"w-2 h-2 bg-gray-400 rounded-full loading-dot"})]})})]}),n("div",{className:"p-3 flex-shrink-0 safe-bottom",children:n("div",{className:"bg-gray-800 rounded-xl p-3",children:[n("textarea",{ref:f,value:c,onInput:u=>{m(u.target.value),h()},onKeyDown:C,placeholder:"Add feedback...",rows:1,className:"w-full bg-transparent text-base focus:outline-none resize-none overflow-hidden",style:{minHeight:"24px",maxHeight:"120px"}}),n("div",{className:"flex items-center justify-between mt-3 pt-3 border-t border-gray-700",children:[n("div",{className:"flex items-center gap-1",children:n("span",{className:"text-xs bg-gray-700 px-2 py-1 rounded-full text-gray-400",children:"StreetsDigital/vibes"})}),n("div",{className:"flex items-center gap-1",children:[n("button",{onClick:i,className:"p-2 hover:bg-gray-700 rounded-lg active:bg-gray-600",title:"Add task",children:n("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})}),n("button",{onClick:()=>y("/commit"),className:"p-2 hover:bg-gray-700 rounded-lg active:bg-gray-600",title:"Commit",children:n("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),n("button",{onClick:()=>y("Create a pull request"),className:"p-2 hover:bg-gray-700 rounded-lg active:bg-gray-600",title:"Create PR",children:n("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})})}),e?n("button",{onClick:o,className:"p-2 bg-red-500 text-white rounded-lg hover:bg-red-600 active:bg-red-700 ml-1",title:"Stop",children:n("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:n("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8 7a1 1 0 00-1 1v4a1 1 0 001 1h4a1 1 0 001-1V8a1 1 0 00-1-1H8z",clipRule:"evenodd"})})}):n("button",{onClick:v,className:"p-2 bg-white text-gray-900 rounded-lg hover:bg-gray-200 active:bg-gray-300 ml-1",title:"Send",children:n("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:n("path",{d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z"})})})]})]})]})}),n(Nt,{isOpen:d,onClose:()=>p(!1),children:n("div",{className:"space-y-1",children:[n("button",{onClick:()=>{y("Summarize current tasks"),p(!1)},className:"w-full text-left px-4 py-3 hover:bg-gray-700 rounded-lg",children:"Summarize tasks"}),n("button",{onClick:()=>{y("What should I work on next?"),p(!1)},className:"w-full text-left px-4 py-3 hover:bg-gray-700 rounded-lg",children:"Suggest next task"}),n("button",{onClick:()=>{y("/verify"),p(!1)},className:"w-full text-left px-4 py-3 hover:bg-gray-700 rounded-lg",children:"Run quality checks"}),n("button",{onClick:()=>{y("Show git status"),p(!1)},className:"w-full text-left px-4 py-3 hover:bg-gray-700 rounded-lg",children:"Git status"}),n("button",{onClick:()=>{a(),p(!1)},className:"w-full text-left px-4 py-3 hover:bg-gray-700 rounded-lg text-red-400",children:"Clear chat history"}),n("button",{onClick:()=>p(!1),className:"w-full text-left px-4 py-3 text-gray-400 hover:bg-gray-700 rounded-lg",children:"Cancel"})]})})]})}function ue({checked:t,onChange:e,disabled:l}){return n("label",{className:"relative inline-flex items-center cursor-pointer",children:[n("input",{type:"checkbox",checked:t,onChange:r=>e(r.target.checked),disabled:l,className:"sr-only peer"}),n("div",{className:"w-9 h-5 bg-gray-600 peer-focus:ring-2 peer-focus:ring-blue-500 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-4 after:w-4 after:transition-all peer-checked:bg-blue-600"})]})}function St(){const t=ht(),e=ft(),l=gt(),r=yt(),[o,a]=x(!1),[i,c]=x(!1),[m,d]=x(!1),[p,s]=x(null),[f,h]=x(null),[v,C]=x(null),[y,b]=x(null),[u,g]=x({name:"",command:"",args:"",scope:"project"}),[S,O]=x({name:"",description:"",trigger:"",solution:"",scope:"project"}),[A,L]=x({event:"PreToolUse",command:"",scope:"project"});ge(()=>{t.load(),e.load(),l.load(),r.load()},[]);const B=async _=>{_.preventDefault(),await t.add({name:u.name,command:u.command,args:u.args.split(" ").filter(D=>D),scope:u.scope}),g({name:"",command:"",args:"",scope:"project"}),a(!1)},I=async _=>{const D=await t.getOne(_.name,_.scope);D&&s(D)},R=async _=>{_.preventDefault(),p&&(await t.update(p.name,p),s(null))},M=async()=>{!p||!confirm(`Delete MCP server "${p.name}"?`)||(await t.remove(p.name,p.scope),s(null))},E=async _=>{_.preventDefault(),await e.create(S),O({name:"",description:"",trigger:"",solution:"",scope:"project"}),c(!1)},Ve=async _=>{const D=await e.getContent(_.file);h({skill:_,content:D})},Ge=async _=>{_.preventDefault(),f&&(await e.updateContent(f.skill.file,f.content),h(null))},Ke=async()=>{!f||!confirm(`Delete skill "${f.skill.name}"?`)||(await e.remove(f.skill.file),h(null))},Qe=async _=>{const D=await l.getDetails(_.name);D&&C(D)},Xe=async _=>{_.preventDefault(),await r.add(A),L({event:"PreToolUse",command:"",scope:"project"}),d(!1)},Ye=_=>{b(_)},Ze=async()=>{!y||!confirm(`Delete hook "${y.event}"?`)||(await r.remove(y.event,y.command,y.scope),b(null))};return n("div",{className:"flex-1 overflow-y-auto",children:[n("div",{className:"p-4 border-b border-gray-700",children:[n("h2",{className:"font-semibold text-gray-300",children:"Claude Tools"}),n("p",{className:"text-xs text-gray-500",children:"MCP servers, skills, and settings"})]}),n(Q,{title:"MCP Servers",onAdd:()=>a(!0),isEmpty:t.servers.length===0,emptyText:"No MCP servers configured",children:t.servers.map(_=>n(Ae,{title:_.name,subtitle:`${_.scope} • ${_.command}`,checked:_.enabled,onToggle:D=>t.toggle(_.name,_.scope,D),onClick:()=>I(_)},`${_.scope}-${_.name}`))}),n(Q,{title:"Skills",onAdd:()=>c(!0),isEmpty:e.skills.length===0,emptyText:"No skills created yet",children:e.skills.map(_=>n("div",{className:"p-2 bg-gray-800 rounded-lg cursor-pointer hover:bg-gray-700",onClick:()=>Ve(_),children:[n("div",{className:"text-sm font-medium",children:_.name}),n("div",{className:"text-xs text-gray-500",children:_.description||_.scope})]},_.file))}),n(Q,{title:"Built-in Tools",isEmpty:l.tools.length===0,children:l.tools.map(_=>n(Ae,{title:_.name,subtitle:_.description,checked:_.enabled,onToggle:D=>l.toggle(_.name,D),onClick:()=>Qe(_)},_.name))}),n(Q,{title:"Hooks",onAdd:()=>d(!0),isEmpty:r.hooks.length===0,emptyText:"No hooks configured",children:r.hooks.map((_,D)=>n("div",{className:"flex items-center justify-between p-2 bg-gray-800 rounded-lg cursor-pointer hover:bg-gray-700",onClick:()=>Ye(_),children:[n("div",{className:"flex-1 min-w-0",children:[n("div",{className:"text-sm font-medium",children:_.event}),n("div",{className:"text-xs text-gray-500 truncate",children:[_.scope," • ",_.command]})]}),n("button",{onClick:et=>{et.stopPropagation(),r.remove(_.event,_.command,_.scope)},className:"ml-2 p-1 text-red-400 hover:text-red-300",children:n("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},D))}),n("div",{className:"p-4",children:[n("h3",{className:"text-sm font-medium text-gray-400 mb-3",children:"Quick Actions"}),n("div",{className:"space-y-2",children:[n(X,{onClick:()=>{},label:"Commit changes"}),n(X,{onClick:()=>{},label:"Create PR"}),n(X,{onClick:()=>{},label:"Run quality checks"}),n(X,{onClick:()=>{},label:"Extract learnings"})]})]}),n(j,{isOpen:o,onClose:()=>a(!1),title:"Add MCP Server",children:n("form",{onSubmit:B,children:[n(z,{children:[n($,{label:"Name",children:n("input",{type:"text",value:u.name,onInput:_=>g({...u,name:_.target.value}),required:!0,placeholder:"my-server",className:"form-input"})}),n($,{label:"Command",children:n("input",{type:"text",value:u.command,onInput:_=>g({...u,command:_.target.value}),required:!0,placeholder:"npx",className:"form-input"})}),n($,{label:"Arguments (space separated)",children:n("input",{type:"text",value:u.args,onInput:_=>g({...u,args:_.target.value}),placeholder:"-y @modelcontextprotocol/server-github",className:"form-input"})}),n($,{label:"Scope",children:n("select",{value:u.scope,onChange:_=>g({...u,scope:_.target.value}),className:"form-input",children:[n("option",{value:"project",children:"Project"}),n("option",{value:"global",children:"Global"})]})})]}),n(F,{onCancel:()=>a(!1),submitLabel:"Add"})]})}),n(j,{isOpen:!!p,onClose:()=>s(null),title:"MCP Server",children:p&&n("form",{onSubmit:R,children:[n(z,{children:[n($,{label:"Name",children:n("input",{type:"text",value:p.name,onInput:_=>s({...p,name:_.target.value}),className:"form-input"})}),n($,{label:"Command",children:n("input",{type:"text",value:p.command,onInput:_=>s({...p,command:_.target.value}),className:"form-input"})}),n($,{label:"Arguments",children:n("input",{type:"text",value:p.args.join(" "),onInput:_=>s({...p,args:_.target.value.split(" ").filter(D=>D)}),className:"form-input"})}),n("div",{className:"flex items-center justify-between",children:[n("span",{className:"text-sm text-gray-400",children:"Enabled"}),n(ue,{checked:p.enabled,onChange:_=>s({...p,enabled:_})})]}),n("div",{className:"text-xs text-gray-500",children:["Scope: ",p.scope]})]}),n(F,{onCancel:()=>s(null),onDelete:M,submitLabel:"Save"})]})}),n(j,{isOpen:i,onClose:()=>c(!1),title:"Create Skill",children:n("form",{onSubmit:E,children:[n(z,{children:[n($,{label:"Name",children:n("input",{type:"text",value:S.name,onInput:_=>O({...S,name:_.target.value}),required:!0,placeholder:"fix-common-error",className:"form-input"})}),n($,{label:"Description",children:n("input",{type:"text",value:S.description,onInput:_=>O({...S,description:_.target.value}),placeholder:"What this skill does",className:"form-input"})}),n($,{label:"Trigger (when to use)",children:n("textarea",{value:S.trigger,onInput:_=>O({...S,trigger:_.target.value}),rows:2,placeholder:"When error X occurs...",className:"form-input"})}),n($,{label:"Solution",children:n("textarea",{value:S.solution,onInput:_=>O({...S,solution:_.target.value}),rows:4,placeholder:"Steps to fix...",className:"form-input"})})]}),n(F,{onCancel:()=>c(!1),submitLabel:"Create"})]})}),n(j,{isOpen:!!f,onClose:()=>h(null),title:f?.skill.name||"",children:f&&n("form",{onSubmit:Ge,children:[n(z,{children:[n($,{label:"Content",children:n("textarea",{value:f.content,onInput:_=>h({...f,content:_.target.value}),rows:12,className:"form-input font-mono text-sm"})}),n("div",{className:"text-xs text-gray-500",children:["Path: ",f.skill.file]})]}),n(F,{onCancel:()=>h(null),onDelete:Ke,submitLabel:"Save"})]})}),n(j,{isOpen:!!v,onClose:()=>C(null),title:v?.name||"",children:v&&n("div",{className:"space-y-4",children:[n("div",{children:[n("label",{className:"block text-sm text-gray-400 mb-1",children:"Description"}),n("p",{className:"text-sm",children:v.description})]}),n("div",{children:[n("label",{className:"block text-sm text-gray-400 mb-1",children:"Details"}),n("p",{className:"text-sm text-gray-300",children:v.details||"No additional details available."})]}),n("div",{className:"flex items-center justify-between p-3 bg-gray-700 rounded-lg",children:[n("span",{className:"text-sm",children:"Enabled"}),n(ue,{checked:v.enabled,onChange:_=>{l.toggle(v.name,_),C({...v,enabled:_})}})]}),v.denied_in&&n("div",{className:"text-xs text-yellow-400",children:["Disabled in ",v.denied_in," settings"]}),n("button",{onClick:()=>C(null),className:"w-full px-4 py-3 bg-gray-700 rounded-lg hover:bg-gray-600",children:"Close"})]})}),n(j,{isOpen:m,onClose:()=>d(!1),title:"Add Hook",children:n("form",{onSubmit:Xe,children:[n(z,{children:[n($,{label:"Event",children:n("select",{value:A.event,onChange:_=>L({...A,event:_.target.value}),className:"form-input",children:[n("option",{value:"PreToolUse",children:"PreToolUse - Before tool runs"}),n("option",{value:"PostToolUse",children:"PostToolUse - After tool runs"}),n("option",{value:"Notification",children:"Notification - On notifications"}),n("option",{value:"Stop",children:"Stop - When Claude stops"})]})}),n($,{label:"Command",children:n("input",{type:"text",value:A.command,onInput:_=>L({...A,command:_.target.value}),required:!0,placeholder:"npm run lint",className:"form-input"})}),n($,{label:"Scope",children:n("select",{value:A.scope,onChange:_=>L({...A,scope:_.target.value}),className:"form-input",children:[n("option",{value:"project",children:"Project"}),n("option",{value:"global",children:"Global"})]})})]}),n(F,{onCancel:()=>d(!1),submitLabel:"Add"})]})}),n(j,{isOpen:!!y,onClose:()=>b(null),title:"Hook",children:y&&n("div",{className:"space-y-4",children:[n($,{label:"Event",children:n("p",{className:"text-sm",children:y.event})}),n($,{label:"Command",children:n("p",{className:"text-sm font-mono bg-gray-700 p-2 rounded",children:y.command})}),n($,{label:"Scope",children:n("p",{className:"text-sm",children:y.scope})}),n(F,{onCancel:()=>b(null),onDelete:Ze,submitLabel:""})]})})]})}function Q({title:t,onAdd:e,isEmpty:l,emptyText:r,children:o}){return n("div",{className:"p-4 border-b border-gray-700",children:[n("div",{className:"flex items-center justify-between mb-3",children:[n("h3",{className:"text-sm font-medium text-gray-400",children:t}),e&&n("button",{onClick:e,className:"text-xs px-2 py-1 bg-gray-700 rounded hover:bg-gray-600",children:"+ Add"})]}),n("div",{className:"space-y-2",children:l?n("div",{className:"text-sm text-gray-500",children:r}):o})]})}function Ae({title:t,subtitle:e,checked:l,onToggle:r,onClick:o}){return n("div",{className:"flex items-center justify-between p-2 bg-gray-800 rounded-lg cursor-pointer hover:bg-gray-700",children:[n("div",{className:"flex-1 min-w-0",onClick:o,children:[n("div",{className:"text-sm font-medium truncate",children:t}),n("div",{className:"text-xs text-gray-500",children:e})]}),n("div",{onClick:a=>a.stopPropagation(),children:n(ue,{checked:l,onChange:r})})]})}function X({onClick:t,label:e}){return n("button",{onClick:t,className:"w-full text-left px-3 py-2 bg-gray-800 rounded-lg hover:bg-gray-700 text-sm",children:e})}function z({children:t}){return n("div",{className:"space-y-4",children:t})}function $({label:t,children:e}){return n("div",{children:[n("label",{className:"block text-sm text-gray-400 mb-1",children:t}),e]})}function F({onCancel:t,onDelete:e,submitLabel:l}){return n("div",{className:"flex gap-2 mt-6",children:[e&&n("button",{type:"button",onClick:e,className:"px-4 py-3 bg-red-600/20 text-red-400 rounded-lg hover:bg-red-600/30",children:"Delete"}),n("button",{type:"button",onClick:t,className:"flex-1 px-4 py-3 bg-gray-700 rounded-lg hover:bg-gray-600",children:"Cancel"}),l&&n("button",{type:"submit",className:"flex-1 px-4 py-3 bg-blue-600 rounded-lg hover:bg-blue-500",children:l})]})}function Tt(){const[t,e]=x("board"),l=_t(),r=mt(),o=pt(),a=vt(),i=bt();ge(()=>{l.refresh(),r.loadHistory(),o.load(),a.loadBranch(),c();const d=setInterval(l.refresh,1e4);return()=>clearInterval(d)},[]);const c=async()=>{(await i.ping()).summary&&e("chat")},m=d=>{e("chat"),r.sendMessage(`Help me implement: ${d.name}

Description: ${d.description||"None"}

Test cases:
${d.test_cases?.join(`
`)||"None"}`)};return n("div",{className:"bg-gray-900 text-gray-100 min-h-screen flex flex-col",children:[n("header",{className:"bg-gray-800 border-b border-gray-700 px-4 py-3 flex-shrink-0",children:n("div",{className:"flex items-center justify-between",children:[n("div",{className:"flex items-center gap-2",children:[n("h1",{className:"text-lg font-bold text-blue-400",children:"⚡"}),n(Pt,{projects:o.projects,currentProject:o.currentProject,onSwitch:async d=>{await o.switchProject(d),l.refresh(),r.loadHistory(),a.loadBranch()}})]}),n("div",{className:"flex items-center gap-2",children:[n("span",{className:"text-xs text-gray-400 hidden sm:inline",children:l.board?.stats?`${l.board.stats.passing}/${l.board.stats.total} complete (${l.board.stats.progress_percent}%)`:"Loading..."}),n("button",{onClick:l.refresh,className:"p-2 bg-gray-700 rounded-lg hover:bg-gray-600 active:bg-gray-500 text-sm",children:"↻"})]})]})}),n("div",{className:"md:hidden flex border-b border-gray-700 bg-gray-800 flex-shrink-0",children:[n(ae,{active:t==="board",onClick:()=>e("board"),label:"Board"}),n(ae,{active:t==="chat",onClick:()=>e("chat"),label:"Claude"}),n(ae,{active:t==="tools",onClick:()=>e("tools"),label:"Tools"})]}),n("div",{className:"flex flex-1 overflow-hidden",children:[n("main",{className:`flex-1 flex flex-col overflow-hidden ${t!=="board"?"hidden md:flex":"flex"}`,children:n(wt,{data:l.board,onMoveTask:l.moveTask,onAddTask:l.createTask,onWorkOnTask:m})}),n("aside",{className:`w-full md:w-96 bg-gray-900 md:bg-gray-800 md:border-l border-gray-700 flex-col h-full ${t!=="chat"?"hidden md:flex":"flex"}`,children:n(Ct,{messages:r.messages,loading:r.loading,branch:a.branch,onSend:r.sendMessage,onStop:r.stopGeneration,onClear:r.clearHistory,onShowAddTask:()=>e("board")})}),n("aside",{className:`w-full md:w-96 bg-gray-900 md:bg-gray-800 md:border-l border-gray-700 flex-col h-full ${t!=="tools"?"hidden":"flex"}`,children:n(St,{})})]})]})}function Pt({projects:t,currentProject:e,onSwitch:l}){const[r,o]=x(!1);return n("div",{className:"relative",children:[n("button",{onClick:()=>o(!r),className:"flex items-center gap-1 px-2 py-1 bg-gray-700 rounded-lg hover:bg-gray-600 text-sm",children:[n("span",{children:e||"vibes"}),n("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),r&&n("div",{className:"absolute left-0 mt-1 w-48 bg-gray-800 border border-gray-700 rounded-lg shadow-lg z-50",children:n("div",{className:"py-1 max-h-60 overflow-y-auto",children:t.map(a=>n("button",{onClick:()=>{l(a.path),o(!1)},className:`w-full text-left px-3 py-2 hover:bg-gray-700 text-sm ${a.current?"text-blue-400":""}`,children:[a.current&&n("span",{className:"mr-1",children:"●"}),a.name]},a.path))})})]})}function ae({active:t,onClick:e,label:l}){return n("button",{onClick:e,className:`flex-1 py-3 text-sm font-medium text-center ${t?"tab-active text-blue-400":"text-gray-400"}`,children:l})}st(n(Tt,{}),document.getElementById("app"));

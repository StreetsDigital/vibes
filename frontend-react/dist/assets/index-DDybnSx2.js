(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const o of l.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=r(a);fetch(a.href,l)}})();var pe,S,ze,K,Me,Ge,Je,Ve,Ce,xe,ve,re={},Ke=[],ft=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,he=Array.isArray;function G(t,n){for(var r in n)t[r]=n[r];return t}function Se(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function yt(t,n,r){var s,a,l,o={};for(l in n)l=="key"?s=n[l]:l=="ref"?a=n[l]:o[l]=n[l];if(arguments.length>2&&(o.children=arguments.length>3?pe.call(arguments,2):r),typeof t=="function"&&t.defaultProps!=null)for(l in t.defaultProps)o[l]===void 0&&(o[l]=t.defaultProps[l]);return ce(t,o,s,a,null)}function ce(t,n,r,s,a){var l={type:t,props:n,key:r,ref:s,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:a??++ze,__i:-1,__u:0};return a==null&&S.vnode!=null&&S.vnode(l),l}function J(t){return t.children}function de(t,n){this.props=t,this.context=n}function ee(t,n){if(n==null)return t.__?ee(t.__,t.__i+1):null;for(var r;n<t.__k.length;n++)if((r=t.__k[n])!=null&&r.__e!=null)return r.__e;return typeof t.type=="function"?ee(t):null}function Qe(t){var n,r;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,n=0;n<t.__k.length;n++)if((r=t.__k[n])!=null&&r.__e!=null){t.__e=t.__c.base=r.__e;break}return Qe(t)}}function Ee(t){(!t.__d&&(t.__d=!0)&&K.push(t)&&!me.__r++||Me!=S.debounceRendering)&&((Me=S.debounceRendering)||Ge)(me)}function me(){for(var t,n,r,s,a,l,o,c=1;K.length;)K.length>c&&K.sort(Je),t=K.shift(),c=K.length,t.__d&&(r=void 0,s=void 0,a=(s=(n=t).__v).__e,l=[],o=[],n.__P&&((r=G({},s)).__v=s.__v+1,S.vnode&&S.vnode(r),Pe(n.__P,r,s,n.__n,n.__P.namespaceURI,32&s.__u?[a]:null,l,a??ee(s),!!(32&s.__u),o),r.__v=s.__v,r.__.__k[r.__i]=r,Ze(l,r,o),s.__e=s.__=null,r.__e!=a&&Qe(r)));me.__r=0}function Xe(t,n,r,s,a,l,o,c,d,m,h){var i,p,g,b,f,x,v,y=s&&s.__k||Ke,w=n.length;for(d=_t(r,n,y,d,w),i=0;i<w;i++)(g=r.__k[i])!=null&&(p=g.__i==-1?re:y[g.__i]||re,g.__i=i,x=Pe(t,g,p,a,l,o,c,d,m,h),b=g.__e,g.ref&&p.ref!=g.ref&&(p.ref&&je(p.ref,null,g),h.push(g.ref,g.__c||b,g)),f==null&&b!=null&&(f=b),(v=!!(4&g.__u))||p.__k===g.__k?d=Ye(g,d,t,v):typeof g.type=="function"&&x!==void 0?d=x:b&&(d=b.nextSibling),g.__u&=-7);return r.__e=f,d}function _t(t,n,r,s,a){var l,o,c,d,m,h=r.length,i=h,p=0;for(t.__k=new Array(a),l=0;l<a;l++)(o=n[l])!=null&&typeof o!="boolean"&&typeof o!="function"?(typeof o=="string"||typeof o=="number"||typeof o=="bigint"||o.constructor==String?o=t.__k[l]=ce(null,o,null,null,null):he(o)?o=t.__k[l]=ce(J,{children:o},null,null,null):o.constructor===void 0&&o.__b>0?o=t.__k[l]=ce(o.type,o.props,o.key,o.ref?o.ref:null,o.__v):t.__k[l]=o,d=l+p,o.__=t,o.__b=t.__b+1,c=null,(m=o.__i=bt(o,r,d,i))!=-1&&(i--,(c=r[m])&&(c.__u|=2)),c==null||c.__v==null?(m==-1&&(a>h?p--:a<h&&p++),typeof o.type!="function"&&(o.__u|=4)):m!=d&&(m==d-1?p--:m==d+1?p++:(m>d?p--:p++,o.__u|=4))):t.__k[l]=null;if(i)for(l=0;l<h;l++)(c=r[l])!=null&&(2&c.__u)==0&&(c.__e==s&&(s=ee(c)),tt(c,c));return s}function Ye(t,n,r,s){var a,l;if(typeof t.type=="function"){for(a=t.__k,l=0;a&&l<a.length;l++)a[l]&&(a[l].__=t,n=Ye(a[l],n,r,s));return n}t.__e!=n&&(s&&(n&&t.type&&!n.parentNode&&(n=ee(t)),r.insertBefore(t.__e,n||null)),n=t.__e);do n=n&&n.nextSibling;while(n!=null&&n.nodeType==8);return n}function bt(t,n,r,s){var a,l,o,c=t.key,d=t.type,m=n[r],h=m!=null&&(2&m.__u)==0;if(m===null&&c==null||h&&c==m.key&&d==m.type)return r;if(s>(h?1:0)){for(a=r-1,l=r+1;a>=0||l<n.length;)if((m=n[o=a>=0?a--:l++])!=null&&(2&m.__u)==0&&c==m.key&&d==m.type)return o}return-1}function Ae(t,n,r){n[0]=="-"?t.setProperty(n,r??""):t[n]=r==null?"":typeof r!="number"||ft.test(n)?r:r+"px"}function oe(t,n,r,s,a){var l,o;e:if(n=="style")if(typeof r=="string")t.style.cssText=r;else{if(typeof s=="string"&&(t.style.cssText=s=""),s)for(n in s)r&&n in r||Ae(t.style,n,"");if(r)for(n in r)s&&r[n]==s[n]||Ae(t.style,n,r[n])}else if(n[0]=="o"&&n[1]=="n")l=n!=(n=n.replace(Ve,"$1")),o=n.toLowerCase(),n=o in t||n=="onFocusOut"||n=="onFocusIn"?o.slice(2):n.slice(2),t.l||(t.l={}),t.l[n+l]=r,r?s?r.u=s.u:(r.u=Ce,t.addEventListener(n,l?ve:xe,l)):t.removeEventListener(n,l?ve:xe,l);else{if(a=="http://www.w3.org/2000/svg")n=n.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(n!="width"&&n!="height"&&n!="href"&&n!="list"&&n!="form"&&n!="tabIndex"&&n!="download"&&n!="rowSpan"&&n!="colSpan"&&n!="role"&&n!="popover"&&n in t)try{t[n]=r??"";break e}catch{}typeof r=="function"||(r==null||r===!1&&n[4]!="-"?t.removeAttribute(n):t.setAttribute(n,n=="popover"&&r==1?"":r))}}function De(t){return function(n){if(this.l){var r=this.l[n.type+t];if(n.t==null)n.t=Ce++;else if(n.t<r.u)return;return r(S.event?S.event(n):n)}}}function Pe(t,n,r,s,a,l,o,c,d,m){var h,i,p,g,b,f,x,v,y,w,P,I,A,O,B,T,R,j=n.type;if(n.constructor!==void 0)return null;128&r.__u&&(d=!!(32&r.__u),l=[c=n.__e=r.__e]),(h=S.__b)&&h(n);e:if(typeof j=="function")try{if(v=n.props,y="prototype"in j&&j.prototype.render,w=(h=j.contextType)&&s[h.__c],P=h?w?w.props.value:h.__:s,r.__c?x=(i=n.__c=r.__c).__=i.__E:(y?n.__c=i=new j(v,P):(n.__c=i=new de(v,P),i.constructor=j,i.render=vt),w&&w.sub(i),i.state||(i.state={}),i.__n=s,p=i.__d=!0,i.__h=[],i._sb=[]),y&&i.__s==null&&(i.__s=i.state),y&&j.getDerivedStateFromProps!=null&&(i.__s==i.state&&(i.__s=G({},i.__s)),G(i.__s,j.getDerivedStateFromProps(v,i.__s))),g=i.props,b=i.state,i.__v=n,p)y&&j.getDerivedStateFromProps==null&&i.componentWillMount!=null&&i.componentWillMount(),y&&i.componentDidMount!=null&&i.__h.push(i.componentDidMount);else{if(y&&j.getDerivedStateFromProps==null&&v!==g&&i.componentWillReceiveProps!=null&&i.componentWillReceiveProps(v,P),n.__v==r.__v||!i.__e&&i.shouldComponentUpdate!=null&&i.shouldComponentUpdate(v,i.__s,P)===!1){for(n.__v!=r.__v&&(i.props=v,i.state=i.__s,i.__d=!1),n.__e=r.__e,n.__k=r.__k,n.__k.some(function(F){F&&(F.__=n)}),I=0;I<i._sb.length;I++)i.__h.push(i._sb[I]);i._sb=[],i.__h.length&&o.push(i);break e}i.componentWillUpdate!=null&&i.componentWillUpdate(v,i.__s,P),y&&i.componentDidUpdate!=null&&i.__h.push(function(){i.componentDidUpdate(g,b,f)})}if(i.context=P,i.props=v,i.__P=t,i.__e=!1,A=S.__r,O=0,y){for(i.state=i.__s,i.__d=!1,A&&A(n),h=i.render(i.props,i.state,i.context),B=0;B<i._sb.length;B++)i.__h.push(i._sb[B]);i._sb=[]}else do i.__d=!1,A&&A(n),h=i.render(i.props,i.state,i.context),i.state=i.__s;while(i.__d&&++O<25);i.state=i.__s,i.getChildContext!=null&&(s=G(G({},s),i.getChildContext())),y&&!p&&i.getSnapshotBeforeUpdate!=null&&(f=i.getSnapshotBeforeUpdate(g,b)),T=h,h!=null&&h.type===J&&h.key==null&&(T=et(h.props.children)),c=Xe(t,he(T)?T:[T],n,r,s,a,l,o,c,d,m),i.base=n.__e,n.__u&=-161,i.__h.length&&o.push(i),x&&(i.__E=i.__=null)}catch(F){if(n.__v=null,d||l!=null)if(F.then){for(n.__u|=d?160:128;c&&c.nodeType==8&&c.nextSibling;)c=c.nextSibling;l[l.indexOf(c)]=null,n.__e=c}else{for(R=l.length;R--;)Se(l[R]);Ne(n)}else n.__e=r.__e,n.__k=r.__k,F.then||Ne(n);S.__e(F,n,r)}else l==null&&n.__v==r.__v?(n.__k=r.__k,n.__e=r.__e):c=n.__e=xt(r.__e,n,r,s,a,l,o,d,m);return(h=S.diffed)&&h(n),128&n.__u?void 0:c}function Ne(t){t&&t.__c&&(t.__c.__e=!0),t&&t.__k&&t.__k.forEach(Ne)}function Ze(t,n,r){for(var s=0;s<r.length;s++)je(r[s],r[++s],r[++s]);S.__c&&S.__c(n,t),t.some(function(a){try{t=a.__h,a.__h=[],t.some(function(l){l.call(a)})}catch(l){S.__e(l,a.__v)}})}function et(t){return typeof t!="object"||t==null||t.__b&&t.__b>0?t:he(t)?t.map(et):G({},t)}function xt(t,n,r,s,a,l,o,c,d){var m,h,i,p,g,b,f,x=r.props||re,v=n.props,y=n.type;if(y=="svg"?a="http://www.w3.org/2000/svg":y=="math"?a="http://www.w3.org/1998/Math/MathML":a||(a="http://www.w3.org/1999/xhtml"),l!=null){for(m=0;m<l.length;m++)if((g=l[m])&&"setAttribute"in g==!!y&&(y?g.localName==y:g.nodeType==3)){t=g,l[m]=null;break}}if(t==null){if(y==null)return document.createTextNode(v);t=document.createElementNS(a,y,v.is&&v),c&&(S.__m&&S.__m(n,l),c=!1),l=null}if(y==null)x===v||c&&t.data==v||(t.data=v);else{if(l=l&&pe.call(t.childNodes),!c&&l!=null)for(x={},m=0;m<t.attributes.length;m++)x[(g=t.attributes[m]).name]=g.value;for(m in x)if(g=x[m],m!="children"){if(m=="dangerouslySetInnerHTML")i=g;else if(!(m in v)){if(m=="value"&&"defaultValue"in v||m=="checked"&&"defaultChecked"in v)continue;oe(t,m,null,g,a)}}for(m in v)g=v[m],m=="children"?p=g:m=="dangerouslySetInnerHTML"?h=g:m=="value"?b=g:m=="checked"?f=g:c&&typeof g!="function"||x[m]===g||oe(t,m,g,x[m],a);if(h)c||i&&(h.__html==i.__html||h.__html==t.innerHTML)||(t.innerHTML=h.__html),n.__k=[];else if(i&&(t.innerHTML=""),Xe(n.type=="template"?t.content:t,he(p)?p:[p],n,r,s,y=="foreignObject"?"http://www.w3.org/1999/xhtml":a,l,o,l?l[0]:r.__k&&ee(r,0),c,d),l!=null)for(m=l.length;m--;)Se(l[m]);c||(m="value",y=="progress"&&b==null?t.removeAttribute("value"):b!=null&&(b!==t[m]||y=="progress"&&!b||y=="option"&&b!=x[m])&&oe(t,m,b,x[m],a),m="checked",f!=null&&f!=t[m]&&oe(t,m,f,x[m],a))}return t}function je(t,n,r){try{if(typeof t=="function"){var s=typeof t.__u=="function";s&&t.__u(),s&&n==null||(t.__u=t(n))}else t.current=n}catch(a){S.__e(a,r)}}function tt(t,n,r){var s,a;if(S.unmount&&S.unmount(t),(s=t.ref)&&(s.current&&s.current!=t.__e||je(s,null,n)),(s=t.__c)!=null){if(s.componentWillUnmount)try{s.componentWillUnmount()}catch(l){S.__e(l,n)}s.base=s.__P=null}if(s=t.__k)for(a=0;a<s.length;a++)s[a]&&tt(s[a],n,r||typeof t.type!="function");r||Se(t.__e),t.__c=t.__=t.__e=void 0}function vt(t,n,r){return this.constructor(t,r)}function Nt(t,n,r){var s,a,l,o;n==document&&(n=document.documentElement),S.__&&S.__(t,n),a=(s=!1)?null:n.__k,l=[],o=[],Pe(n,t=n.__k=yt(J,null,[t]),a||re,re,n.namespaceURI,a?null:n.firstChild?pe.call(n.childNodes):null,l,a?a.__e:n.firstChild,s,o),Ze(l,t,o)}pe=Ke.slice,S={__e:function(t,n,r,s){for(var a,l,o;n=n.__;)if((a=n.__c)&&!a.__)try{if((l=a.constructor)&&l.getDerivedStateFromError!=null&&(a.setState(l.getDerivedStateFromError(t)),o=a.__d),a.componentDidCatch!=null&&(a.componentDidCatch(t,s||{}),o=a.__d),o)return a.__E=a}catch(c){t=c}throw t}},ze=0,de.prototype.setState=function(t,n){var r;r=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=G({},this.state),typeof t=="function"&&(t=t(G({},r),this.props)),t&&G(r,t),t!=null&&this.__v&&(n&&this._sb.push(n),Ee(this))},de.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),Ee(this))},de.prototype.render=J,K=[],Ge=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Je=function(t,n){return t.__v.__b-n.__v.__b},me.__r=0,Ve=/(PointerCapture)$|Capture$/i,Ce=0,xe=De(!1),ve=De(!0);var wt=0;function e(t,n,r,s,a,l){n||(n={});var o,c,d=n;if("ref"in d)for(c in d={},n)c=="ref"?o=n[c]:d[c]=n[c];var m={type:t,props:d,key:r,ref:o,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--wt,__i:-1,__u:0,__source:a,__self:l};if(typeof t=="function"&&(o=t.defaultProps))for(c in o)d[c]===void 0&&(d[c]=o[c]);return S.vnode&&S.vnode(m),m}var ae,$,be,Oe,se=0,nt=[],M=S,He=M.__b,Ie=M.__r,Fe=M.diffed,Be=M.__c,Re=M.unmount,Ue=M.__;function Te(t,n){M.__h&&M.__h($,t,se||n),se=0;var r=$.__H||($.__H={__:[],__h:[]});return t>=r.__.length&&r.__.push({}),r.__[t]}function _(t){return se=1,kt(st,t)}function kt(t,n,r){var s=Te(ae++,2);if(s.t=t,!s.__c&&(s.__=[st(void 0,n),function(c){var d=s.__N?s.__N[0]:s.__[0],m=s.t(d,c);d!==m&&(s.__N=[m,s.__[1]],s.__c.setState({}))}],s.__c=$,!$.__f)){var a=function(c,d,m){if(!s.__c.__H)return!0;var h=s.__c.__H.__.filter(function(p){return!!p.__c});if(h.every(function(p){return!p.__N}))return!l||l.call(this,c,d,m);var i=s.__c.props!==c;return h.forEach(function(p){if(p.__N){var g=p.__[0];p.__=p.__N,p.__N=void 0,g!==p.__[0]&&(i=!0)}}),l&&l.call(this,c,d,m)||i};$.__f=!0;var l=$.shouldComponentUpdate,o=$.componentWillUpdate;$.componentWillUpdate=function(c,d,m){if(this.__e){var h=l;l=void 0,a(c,d,m),l=h}o&&o.call(this,c,d,m)},$.shouldComponentUpdate=a}return s.__N||s.__}function z(t,n){var r=Te(ae++,3);!M.__s&&at(r.__H,n)&&(r.__=t,r.u=n,$.__H.__h.push(r))}function Q(t){return se=5,rt(function(){return{current:t}},[])}function rt(t,n){var r=Te(ae++,7);return at(r.__H,n)&&(r.__=t(),r.__H=n,r.__h=t),r.__}function k(t,n){return se=8,rt(function(){return t},n)}function Ct(){for(var t;t=nt.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(ue),t.__H.__h.forEach(we),t.__H.__h=[]}catch(n){t.__H.__h=[],M.__e(n,t.__v)}}M.__b=function(t){$=null,He&&He(t)},M.__=function(t,n){t&&n.__k&&n.__k.__m&&(t.__m=n.__k.__m),Ue&&Ue(t,n)},M.__r=function(t){Ie&&Ie(t),ae=0;var n=($=t.__c).__H;n&&(be===$?(n.__h=[],$.__h=[],n.__.forEach(function(r){r.__N&&(r.__=r.__N),r.u=r.__N=void 0})):(n.__h.forEach(ue),n.__h.forEach(we),n.__h=[],ae=0)),be=$},M.diffed=function(t){Fe&&Fe(t);var n=t.__c;n&&n.__H&&(n.__H.__h.length&&(nt.push(n)!==1&&Oe===M.requestAnimationFrame||((Oe=M.requestAnimationFrame)||St)(Ct)),n.__H.__.forEach(function(r){r.u&&(r.__H=r.u),r.u=void 0})),be=$=null},M.__c=function(t,n){n.some(function(r){try{r.__h.forEach(ue),r.__h=r.__h.filter(function(s){return!s.__||we(s)})}catch(s){n.some(function(a){a.__h&&(a.__h=[])}),n=[],M.__e(s,r.__v)}}),Be&&Be(t,n)},M.unmount=function(t){Re&&Re(t);var n,r=t.__c;r&&r.__H&&(r.__H.__.forEach(function(s){try{ue(s)}catch(a){n=a}}),r.__H=void 0,n&&M.__e(n,r.__v))};var We=typeof requestAnimationFrame=="function";function St(t){var n,r=function(){clearTimeout(s),We&&cancelAnimationFrame(n),setTimeout(t)},s=setTimeout(r,35);We&&(n=requestAnimationFrame(r))}function ue(t){var n=$,r=t.__c;typeof r=="function"&&(t.__c=void 0,r()),$=n}function we(t){var n=$;t.__c=t.__(),$=n}function at(t,n){return!t||t.length!==n.length||n.some(function(r,s){return r!==t[s]})}function st(t,n){return typeof n=="function"?n(t):n}const ke="/api";async function C(t,n){return(await fetch(`${ke}${t}`,{...n,headers:{"Content-Type":"application/json",...n?.headers}})).json()}function Pt(){const[t,n]=_(null),[r,s]=_(!1),a=k(async()=>{s(!0);try{const c=await C("/board");n(c)}finally{s(!1)}},[]),l=k(async c=>{await C("/task",{method:"POST",body:JSON.stringify(c)}),await a()},[a]),o=k(async(c,d)=>{await C(`/task/${c}/move`,{method:"POST",body:JSON.stringify({status:d})}),await a()},[a]);return{board:t,loading:r,refresh:a,createTask:l,moveTask:o}}function jt(){const[t,n]=_([]),[r,s]=_(!1),[a,l]=_(null),o=k(async()=>{const h=await C("/chat/history");n(h.messages||[])},[]),c=k(async h=>{const i={role:"user",content:h};n(g=>[...g,i]),s(!0);const p=new AbortController;l(p);try{const f={role:"assistant",content:(await(await fetch(`${ke}/chat`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:h}),signal:p.signal})).json()).response};n(x=>[...x,f])}catch(g){if(g.name==="AbortError"){const b={role:"assistant",content:"*(Stopped)*"};n(f=>[...f,b])}else{const b={role:"error",content:"Error: Could not reach Claude"};n(f=>[...f,b])}}finally{s(!1),l(null)}},[]),d=k(()=>{a&&(a.abort(),fetch(`${ke}/chat/stop`,{method:"POST"}).catch(()=>{}))},[a]),m=k(async()=>{await C("/chat/history",{method:"DELETE"}),n([])},[]);return{messages:t,loading:r,loadHistory:o,sendMessage:c,stopGeneration:d,clearHistory:m}}function Tt(){const[t,n]=_([]),[r,s]=_(""),a=k(async()=>{const o=await C("/projects");n(o.projects||[]);const c=o.projects?.find(d=>d.current);c&&s(c.name)},[]),l=k(async o=>{const c=await C("/projects/switch",{method:"POST",body:JSON.stringify({path:o})});return c.success&&s(c.project),c.success},[]);return{projects:t,currentProject:r,load:a,switchProject:l}}function lt(){const[t,n]=_([]),r=k(async()=>{const d=await C("/claude/mcp");n(d.servers||[])},[]),s=k(async d=>{await C("/claude/mcp",{method:"POST",body:JSON.stringify(d)}),await r()},[r]),a=k(async(d,m)=>{await C(`/claude/mcp/${d}`,{method:"PUT",body:JSON.stringify(m)}),await r()},[r]),l=k(async(d,m)=>{await C(`/claude/mcp/${d}`,{method:"DELETE",body:JSON.stringify({scope:m})}),await r()},[r]),o=k(async(d,m,h)=>{await C(`/claude/mcp/${d}/toggle`,{method:"POST",body:JSON.stringify({scope:m,enabled:h})}),await r()},[r]),c=k(async(d,m)=>{try{return await C(`/claude/mcp/${d}?scope=${m}`)}catch{return null}},[]);return{servers:t,load:r,add:s,update:a,remove:l,toggle:o,getOne:c}}function $t(){const[t,n]=_([]),r=k(async()=>{const c=await C("/claude/skills");n(c.skills||[])},[]),s=k(async c=>{await C("/claude/skills",{method:"POST",body:JSON.stringify(c)}),await r()},[r]),a=k(async c=>(await C(`/claude/skills${c}`)).content||"",[]),l=k(async(c,d)=>{await C(`/claude/skills${c}`,{method:"PUT",body:JSON.stringify({content:d})}),await r()},[r]),o=k(async c=>{await C(`/claude/skills${c}`,{method:"DELETE"}),await r()},[r]);return{skills:t,load:r,create:s,getContent:a,updateContent:l,remove:o}}function Lt(){const[t,n]=_([]),r=k(async()=>{const l=await C("/claude/tools");n(l.tools||[])},[]),s=k(async(l,o)=>{await C(`/claude/tools/${l}/toggle`,{method:"POST",body:JSON.stringify({enabled:o,scope:"project"})}),await r()},[r]),a=k(async l=>{try{return await C(`/claude/tools/${l}`)}catch{return null}},[]);return{tools:t,load:r,toggle:s,getDetails:a}}function Mt(){const[t,n]=_([]),r=k(async()=>{const o=await C("/claude/hooks");n(o.hooks||[])},[]),s=k(async o=>{await C("/claude/hooks",{method:"POST",body:JSON.stringify(o)}),await r()},[r]),a=k(async(o,c)=>{await C("/claude/hooks",{method:"PUT",body:JSON.stringify({old_event:o.event,old_command:o.command,old_scope:o.scope,event:c.event,command:c.command,scope:c.scope})}),await r()},[r]),l=k(async(o,c,d)=>{await C("/claude/hooks",{method:"DELETE",body:JSON.stringify({event:o,command:c,scope:d})}),await r()},[r]);return{hooks:t,load:r,add:s,update:a,remove:l}}function Et(){const[t,n]=_("main"),r=k(async()=>{const s=await C("/git/branch");n(s.branch||"main")},[]);return{branch:t,loadBranch:r}}function At(){return{ping:k(async()=>await C("/session/ping",{method:"POST"}),[])}}function Dt(){const[t,n]=_([]),[r,s]=_(!1),a=k(async()=>{s(!0);try{const i=await(await fetch("/api/manager/projects")).json();n(i.projects||[])}catch(h){console.error("Failed to load managed projects:",h)}finally{s(!1)}},[]),l=k(async(h,i)=>{const g=await(await fetch("/api/manager/projects",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:h,git_url:i})})).json();return g.success&&await a(),g},[a]),o=k(async h=>{const p=await(await fetch(`/api/manager/projects/${h}`,{method:"DELETE"})).json();return p.success&&await a(),p},[a]),c=k(async h=>{const p=await(await fetch(`/api/manager/projects/${h}/start`,{method:"POST"})).json();return await a(),p},[a]),d=k(async h=>{const p=await(await fetch(`/api/manager/projects/${h}/stop`,{method:"POST"})).json();return await a(),p},[a]),m=k(h=>{window.open(`/project/${h}/`,"_blank")},[]);return{managedProjects:t,loading:r,loadProjects:a,createProject:l,deleteProject:o,startProject:c,stopProject:d,openProject:m}}function Ot(){const[t,n]=_(null),[r,s]=_(!1),[a,l]=_(null),o=k(async()=>{s(!0),l(null);try{const c=await C("/agents");n(c)}catch(c){l(c.message)}finally{s(!1)}},[]);return{agents:t,loading:r,error:a,load:o}}function Ht(){const[t,n]=_(null),[r,s]=_(!1),[a,l]=_(null),o=k(async()=>{s(!0),l(null);try{const c=await fetch("/api/manager/health/system");if(!c.ok)throw new Error("Failed to fetch health");const d=await c.json();n(d)}catch(c){l(c.message)}finally{s(!1)}},[]);return{health:t,loading:r,error:a,refresh:o}}function It(){const[t,n]=_([]),[r,s]=_("all"),[a,l]=_(!1),[o,c]=_(!0),[d,m]=_(!1),h=Q(null),i=k(async x=>{l(!0);try{const y=await C(`/logs?filter=${x??r}`);n(y.logs||[])}catch(v){console.error("Failed to load logs:",v)}finally{l(!1)}},[r]),p=k(async()=>{try{await C("/logs",{method:"DELETE"}),n([])}catch(x){console.error("Failed to clear logs:",x)}},[]),g=k(x=>{s(x),i(x)},[i]),b=k(()=>{h.current||(m(!0),h.current=window.setInterval(()=>{i()},2e3))},[i]),f=k(()=>{h.current&&(clearInterval(h.current),h.current=null),m(!1)},[]);return z(()=>()=>{h.current&&clearInterval(h.current)},[]),{logs:t,filter:r,loading:a,autoScroll:o,polling:d,load:i,clear:p,changeFilter:g,setAutoScroll:c,startPolling:b,stopPolling:f}}function Ft({task:t,onClick:n,onDragStart:r}){return e("div",{className:"bg-gray-700 rounded-lg p-3 cursor-pointer hover:bg-gray-600 active:bg-gray-500 transition-colors touch-manipulation",draggable:!0,onDragStart:s=>r(s,t.id),onClick:n,children:[e("div",{className:"flex items-start justify-between gap-2",children:[e("span",{className:"font-medium text-sm",children:t.name}),t.priority>50&&e("span",{className:"text-xs bg-red-500/20 text-red-400 px-1.5 py-0.5 rounded",children:"High"})]}),t.description&&e("p",{className:"text-xs text-gray-400 mt-1 line-clamp-2",children:t.description}),t.test_cases&&t.test_cases.length>0&&e("div",{className:"text-xs text-gray-500 mt-2",children:[t.test_cases.length," tests"]})]})}function W({isOpen:t,onClose:n,title:r,children:s}){return t?e("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:n,children:e("div",{className:"bg-gray-800 rounded-xl p-5 w-full max-w-md max-h-[90vh] overflow-y-auto",onClick:a=>a.stopPropagation(),children:[e("div",{className:"flex justify-between items-start mb-4",children:[e("h3",{className:"text-lg font-semibold",children:r}),e("button",{onClick:n,className:"text-gray-500 hover:text-gray-300 p-1 -mr-1",children:"âœ•"})]}),s]})}):null}function Bt({isOpen:t,onClose:n,children:r}){return t?e("div",{className:"fixed inset-0 bg-black/50 flex items-end justify-center z-50",onClick:n,children:e("div",{className:"bg-gray-800 rounded-t-2xl w-full max-w-lg p-4 safe-bottom",onClick:s=>s.stopPropagation(),children:[e("div",{className:"w-12 h-1 bg-gray-600 rounded-full mx-auto mb-4"}),r]})}):null}const Rt=[{id:"pending",key:"todo",label:"To Do",color:"bg-gray-500"},{id:"in_progress",key:"in_progress",label:"In Progress",color:"bg-blue-500"},{id:"needs_review",key:"review",label:"Review",color:"bg-yellow-500"},{id:"passing",key:"done",label:"Done",color:"bg-green-500"}];function Ut({data:t,onMoveTask:n,onAddTask:r,onWorkOnTask:s}){const[a,l]=_(!1),[o,c]=_(null),[d,m]=_({name:"",description:"",testCases:""}),[h,i]=_(null),p=(y,w)=>{y.dataTransfer?.setData("taskId",w)},g=(y,w)=>{y.preventDefault(),i(w)},b=(y,w)=>{y.preventDefault(),i(null);const P=y.dataTransfer?.getData("taskId");P&&n(P,w)},f=y=>{y.preventDefault(),r({name:d.name,description:d.description,test_cases:d.testCases.split(`
`).filter(w=>w.trim()),priority:0}),m({name:"",description:"",testCases:""}),l(!1)},x=y=>t?.board?t.board[y]||[]:[],v=y=>x(y).length;return e("div",{className:"flex-1 flex flex-col overflow-hidden",children:[e("div",{className:"flex-1 overflow-x-auto overflow-y-auto kanban-scroll p-4",children:e("div",{className:"flex md:grid md:grid-cols-4 gap-3 min-w-max md:min-w-0",children:Rt.map(y=>e("div",{className:`w-72 md:w-auto bg-gray-800 rounded-lg p-3 flex-shrink-0 ${h===y.id?"ring-2 ring-blue-500":""}`,onDragOver:w=>g(w,y.id),onDragLeave:()=>i(null),onDrop:w=>b(w,y.id),children:[e("h2",{className:"font-semibold text-gray-300 mb-3 flex items-center gap-2 text-sm",children:[e("span",{className:`w-2.5 h-2.5 ${y.color} rounded-full`}),y.label,e("span",{className:"text-xs bg-gray-700 px-2 py-0.5 rounded-full",children:v(y.key)})]}),e("div",{className:"space-y-2 min-h-[150px]",children:x(y.key).map(w=>e(Ft,{task:w,onClick:()=>c(w),onDragStart:p},w.id))})]},y.id))})}),e("div",{className:"p-4 border-t border-gray-700 flex-shrink-0 safe-bottom",children:e("button",{onClick:()=>l(!0),className:"w-full md:w-auto px-4 py-3 bg-blue-600 rounded-lg hover:bg-blue-500 active:bg-blue-700 text-sm font-medium",children:"+ Add Task"})}),e(W,{isOpen:a,onClose:()=>l(!1),title:"Add New Task",children:e("form",{onSubmit:f,children:[e("div",{className:"space-y-4",children:[e("div",{children:[e("label",{className:"block text-sm text-gray-400 mb-1",children:"Name"}),e("input",{type:"text",value:d.name,onInput:y=>m({...d,name:y.target.value}),required:!0,className:"w-full bg-gray-700 rounded-lg px-3 py-3 text-base focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e("div",{children:[e("label",{className:"block text-sm text-gray-400 mb-1",children:"Description"}),e("textarea",{value:d.description,onInput:y=>m({...d,description:y.target.value}),rows:3,className:"w-full bg-gray-700 rounded-lg px-3 py-3 text-base focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e("div",{children:[e("label",{className:"block text-sm text-gray-400 mb-1",children:"Test Cases (one per line)"}),e("textarea",{value:d.testCases,onInput:y=>m({...d,testCases:y.target.value}),rows:3,placeholder:`Test case 1
Test case 2`,className:"w-full bg-gray-700 rounded-lg px-3 py-3 text-base focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),e("div",{className:"flex gap-2 mt-6",children:[e("button",{type:"button",onClick:()=>l(!1),className:"flex-1 px-4 py-3 bg-gray-700 rounded-lg hover:bg-gray-600",children:"Cancel"}),e("button",{type:"submit",className:"flex-1 px-4 py-3 bg-blue-600 rounded-lg hover:bg-blue-500",children:"Add"})]})]})}),e(W,{isOpen:!!o,onClose:()=>c(null),title:o?.name||"",children:o&&e(J,{children:[e("div",{className:"space-y-4",children:[e("div",{children:[e("label",{className:"text-xs text-gray-500",children:"Status"}),e("p",{className:"text-sm",children:o.status})]}),o.description&&e("div",{children:[e("label",{className:"text-xs text-gray-500",children:"Description"}),e("p",{className:"text-sm",children:o.description})]}),o.test_cases&&o.test_cases.length>0&&e("div",{children:[e("label",{className:"text-xs text-gray-500",children:"Test Cases"}),e("ul",{className:"text-sm list-disc list-inside",children:o.test_cases.map((y,w)=>e("li",{children:y},w))})]})]}),e("div",{className:"flex gap-2 mt-6",children:[e("button",{onClick:()=>c(null),className:"flex-1 px-4 py-3 bg-gray-700 rounded-lg hover:bg-gray-600",children:"Close"}),e("button",{onClick:()=>{s(o),c(null)},className:"flex-1 px-4 py-3 bg-blue-600 rounded-lg hover:bg-blue-500",children:"Work on this"})]})]})})]})}function ge({checked:t,onChange:n,disabled:r}){return e("label",{className:"relative inline-flex items-center cursor-pointer",children:[e("input",{type:"checkbox",checked:t,onChange:s=>n(s.target.checked),disabled:r,className:"sr-only peer"}),e("div",{className:"w-9 h-5 bg-gray-600 peer-focus:ring-2 peer-focus:ring-blue-500 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-4 after:w-4 after:transition-all peer-checked:bg-blue-600"})]})}function Wt({messages:t,loading:n,branch:r,onSend:s,onStop:a,onClear:l,onShowAddTask:o,isVisible:c}){const[d,m]=_(""),[h,i]=_(!1),[p,g]=_(!1),[b,f]=_(!1),[x,v]=_([]),[y,w]=_(!1),P=Q(null),I=Q(null),A=Q(null),O=lt(),B=O.servers.filter(N=>N.enabled).length;z(()=>{O.load()},[]),z(()=>{P.current&&(P.current.scrollTop=P.current.scrollHeight)},[t,x]),z(()=>{c&&P.current&&(P.current.scrollTop=P.current.scrollHeight)},[c]);const T=async()=>{try{const L=await(await fetch("/api/logs?limit=100")).json();v(L.logs||[])}catch(N){console.error("Failed to load debug logs:",N)}};z(()=>(p?(w(!0),T().finally(()=>w(!1)),A.current=window.setInterval(T,3e3)):A.current&&(clearInterval(A.current),A.current=null),()=>{A.current&&clearInterval(A.current)}),[p]);const R=()=>{const N=I.current;N&&(N.style.height="auto",N.style.height=Math.min(N.scrollHeight,200)+"px")},j=()=>{const N=d.trim();!N||n||(s(N),m(""),I.current&&(I.current.style.height="auto"))},F=N=>{N.key==="Enter"&&!N.shiftKey&&(N.preventDefault(),j())},H=N=>{s(N)},X=N=>{let L=N.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");return L=L.replace(/```(\w*)\n?([\s\S]*?)```/g,($e,Le,_e)=>`<pre class="bg-gray-900 rounded p-3 my-2 overflow-x-auto text-xs font-mono"><code>${_e.trim()}</code></pre>`),L=L.replace(/`([^`]+)`/g,'<code class="bg-gray-900 px-1.5 py-0.5 rounded text-xs font-mono">$1</code>'),L=L.replace(/\*\*([^*]+)\*\*/g,"<strong>$1</strong>"),L=L.replace(/\*([^*]+)\*/g,"<em>$1</em>"),L=L.replace(/\n/g,"<br>"),L},fe=N=>{try{return new Date(N).toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"})}catch{return N}},ye={info:"text-blue-400",warn:"text-yellow-400",error:"text-red-400",debug:"text-gray-500"};return e("div",{className:"flex flex-col h-full",children:[e("div",{className:"bg-gray-800 rounded-xl mx-3 mt-3 p-3 flex items-center justify-between flex-shrink-0 sticky top-0 z-10",children:[e("div",{className:"flex-1 min-w-0 flex items-center gap-2",children:[e("p",{className:"text-sm text-gray-300 truncate",children:r}),e("button",{onClick:()=>f(!b),className:`px-2 py-1 text-xs rounded-full flex items-center gap-1 transition-colors ${b?"bg-green-600/30 text-green-400 border border-green-500/50":O.servers.length>0?"bg-gray-700 text-gray-400 hover:bg-gray-600":"bg-gray-700 text-gray-500 hover:bg-gray-600"}`,title:`${B}/${O.servers.length} MCP servers enabled`,children:[e("span",{className:`w-2 h-2 rounded-full ${B>0?"bg-green-400":"bg-gray-500"}`}),"MCPs ",O.servers.length>0&&e("span",{className:"text-gray-500",children:["(",B,"/",O.servers.length,")"]})]}),e("button",{onClick:()=>g(!p),className:`px-2 py-1 text-xs rounded-full flex items-center gap-1 transition-colors ${p?"bg-purple-600/30 text-purple-400 border border-purple-500/50":"bg-gray-700 text-gray-400 hover:bg-gray-600"}`,title:p?"Hide debug logs":"Show debug logs",children:[e("span",{className:`w-2 h-2 rounded-full ${p?"bg-purple-400 animate-pulse":"bg-gray-500"}`}),"Debug"]})]}),e("button",{onClick:()=>H("Create a PR for current changes"),className:"ml-2 px-3 py-1 text-sm font-medium hover:bg-gray-700 rounded",children:"View PR"}),e("button",{onClick:()=>i(!0),className:"ml-1 p-1.5 hover:bg-gray-700 rounded",children:e("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:e("path",{d:"M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z"})})})]}),b&&e("div",{className:"mx-3 mt-2 bg-gray-800/80 backdrop-blur rounded-xl border border-green-500/30 overflow-hidden",children:[e("div",{className:"p-3 border-b border-gray-700 flex items-center justify-between",children:[e("span",{className:"text-sm font-medium text-green-400",children:"MCP Servers"}),e("button",{onClick:()=>f(!1),className:"text-gray-400 hover:text-white p-1",children:e("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e("div",{className:"p-3 space-y-2 max-h-48 overflow-y-auto",children:O.servers.length===0?e("div",{className:"text-sm text-gray-500 text-center py-2",children:["No MCP servers configured",e("div",{className:"text-xs mt-1",children:"Add servers in the Tools tab"})]}):O.servers.map(N=>e("div",{className:"flex items-center justify-between p-2 bg-gray-900/50 rounded-lg",children:[e("div",{className:"flex-1 min-w-0 mr-3",children:[e("div",{className:"text-sm font-medium truncate",children:N.name}),e("div",{className:"text-xs text-gray-500 truncate",children:[N.scope," â€¢ ",N.command," ",N.args?.join(" ")]})]}),e(ge,{checked:N.enabled,onChange:L=>O.toggle(N.name,N.scope,L)})]},`${N.scope}-${N.name}`))})]}),e("div",{ref:P,className:"flex-1 min-h-0 overflow-y-auto p-4 space-y-3",children:[t.length===0&&!p?e("div",{className:"text-gray-500 text-sm text-center py-8",children:"Start a conversation with Claude"}):e(J,{children:t.map((N,L)=>e("div",{className:N.role==="user"?"bg-blue-600 rounded-lg p-3 ml-4 md:ml-8":N.role==="error"?"bg-red-600/20 text-red-400 rounded-lg p-3":"bg-gray-700 rounded-lg p-3 mr-4 md:mr-8",children:e("div",{className:"text-sm chat-content",dangerouslySetInnerHTML:{__html:X(N.content)}})},`msg-${L}`))}),p&&e("div",{className:"border-t border-purple-500/30 pt-3 mt-3",children:[e("div",{className:"flex items-center justify-between mb-2",children:[e("span",{className:"text-xs text-purple-400 font-medium flex items-center gap-1",children:[e("span",{className:"w-2 h-2 rounded-full bg-purple-400 animate-pulse"}),"Claude Debug Logs",y&&e("span",{className:"text-gray-500 ml-1",children:"(loading...)"})]}),e("span",{className:"text-xs text-gray-500",children:[x.length," entries"]})]}),e("div",{className:"space-y-1 font-mono text-xs bg-gray-950 rounded-lg p-2 max-h-64 overflow-y-auto",children:x.length===0?e("div",{className:"text-gray-500 text-center py-4",children:"No debug logs yet"}):x.map(N=>e("div",{className:"flex items-start gap-2 py-0.5 hover:bg-gray-800/50 rounded px-1",children:[e("span",{className:"text-gray-600 flex-shrink-0",children:fe(N.timestamp)}),e("span",{className:`flex-shrink-0 ${ye[N.level]||"text-gray-400"}`,children:["[",N.level.toUpperCase().slice(0,4),"]"]}),e("span",{className:"text-gray-300 break-all",children:N.message})]},N.id))})]}),n&&e("div",{className:"bg-gray-700 rounded-lg p-3 mr-4 md:mr-8",children:e("div",{className:"flex gap-1",children:[e("span",{className:"w-2 h-2 bg-gray-400 rounded-full loading-dot"}),e("span",{className:"w-2 h-2 bg-gray-400 rounded-full loading-dot"}),e("span",{className:"w-2 h-2 bg-gray-400 rounded-full loading-dot"})]})})]}),e("div",{className:"p-3 flex-shrink-0 safe-bottom sticky bottom-0 bg-gray-900 z-10",children:e("div",{className:"bg-gray-800 rounded-xl p-3",children:[e("textarea",{ref:I,value:d,onInput:N=>{m(N.target.value),R()},onKeyDown:F,placeholder:"Add feedback...",rows:1,className:"w-full bg-transparent text-base focus:outline-none resize-none overflow-y-auto",style:{minHeight:"24px",maxHeight:"200px"}}),e("div",{className:"flex items-center justify-between mt-3 pt-3 border-t border-gray-700",children:[e("div",{className:"flex items-center gap-1",children:e("span",{className:"text-xs bg-gray-700 px-2 py-1 rounded-full text-gray-400",children:"StreetsDigital/vibes"})}),e("div",{className:"flex items-center gap-1",children:[e("button",{onClick:o,className:"p-2 hover:bg-gray-700 rounded-lg active:bg-gray-600",title:"Add task",children:e("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})}),e("button",{onClick:()=>H("/commit"),className:"p-2 hover:bg-gray-700 rounded-lg active:bg-gray-600",title:"Commit",children:e("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e("button",{onClick:()=>H("Create a pull request"),className:"p-2 hover:bg-gray-700 rounded-lg active:bg-gray-600",title:"Create PR",children:e("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})})}),n?e("button",{onClick:a,className:"p-2 bg-red-500 text-white rounded-lg hover:bg-red-600 active:bg-red-700 ml-1",title:"Stop",children:e("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:e("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8 7a1 1 0 00-1 1v4a1 1 0 001 1h4a1 1 0 001-1V8a1 1 0 00-1-1H8z",clipRule:"evenodd"})})}):e("button",{onClick:j,className:"p-2 bg-white text-gray-900 rounded-lg hover:bg-gray-200 active:bg-gray-300 ml-1",title:"Send",children:e("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:e("path",{d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z"})})})]})]})]})}),e(Bt,{isOpen:h,onClose:()=>i(!1),children:e("div",{className:"space-y-1",children:[e("button",{onClick:()=>{H("Summarize current tasks"),i(!1)},className:"w-full text-left px-4 py-3 hover:bg-gray-700 rounded-lg",children:"Summarize tasks"}),e("button",{onClick:()=>{H("What should I work on next?"),i(!1)},className:"w-full text-left px-4 py-3 hover:bg-gray-700 rounded-lg",children:"Suggest next task"}),e("button",{onClick:()=>{H("/verify"),i(!1)},className:"w-full text-left px-4 py-3 hover:bg-gray-700 rounded-lg",children:"Run quality checks"}),e("button",{onClick:()=>{H("Show git status"),i(!1)},className:"w-full text-left px-4 py-3 hover:bg-gray-700 rounded-lg",children:"Git status"}),e("button",{onClick:()=>{l(),i(!1)},className:"w-full text-left px-4 py-3 hover:bg-gray-700 rounded-lg text-red-400",children:"Clear chat history"}),e("button",{onClick:()=>i(!1),className:"w-full text-left px-4 py-3 text-gray-400 hover:bg-gray-700 rounded-lg",children:"Cancel"})]})})]})}function qt({isOpen:t,onClose:n}){const[r,s]=_(""),[a,l]=_(null),[o,c]=_(!1),[d,m]=_(""),h=async p=>{if(p.preventDefault(),!!r.trim()){c(!0),m(""),l(null);try{const g=await fetch("/api/config/route",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:r.trim()})});if(!g.ok)throw new Error("Failed to route configuration request");const b=await g.json();l(b)}catch(g){m(g.message)}finally{c(!1)}}},i=p=>{navigator.clipboard.writeText(p),alert(`File path copied to clipboard: ${p}`)};return t?e("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:e("div",{className:"bg-gray-900 rounded-lg p-6 w-full max-w-2xl max-h-[80vh] overflow-auto",children:[e("div",{className:"flex items-center justify-between mb-4",children:[e("h2",{className:"text-lg font-semibold text-gray-100",children:"Configuration Helper"}),e("button",{onClick:n,className:"text-gray-400 hover:text-gray-300",children:e("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e("div",{className:"space-y-4",children:[e("div",{children:[e("p",{className:"text-sm text-gray-400 mb-3",children:"Describe what you want to configure, and I'll route you to the right file."}),e("form",{onSubmit:h,children:e("div",{className:"flex space-x-2",children:[e("input",{type:"text",value:r,onInput:p=>s(p.target.value),placeholder:"e.g., change quality gate settings, add MCP server, configure git hooks...",className:"flex-1 px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-gray-100 placeholder-gray-500 focus:outline-none focus:border-blue-500"}),e("button",{type:"submit",disabled:o||!r.trim(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:o?"Routing...":"Find Config"})]})})]}),d&&e("div",{className:"p-3 bg-red-900/20 border border-red-600/30 rounded-lg text-red-400 text-sm",children:d}),a&&e("div",{className:"space-y-3",children:[e("div",{className:"p-4 bg-gray-800 rounded-lg",children:[e("div",{className:"flex items-center justify-between mb-2",children:[e("h3",{className:"text-sm font-medium text-gray-200",children:"Configuration File"}),e("button",{onClick:()=>i(a.file_path),className:"text-xs px-2 py-1 bg-blue-600/20 text-blue-400 rounded hover:bg-blue-600/30",children:"Open File"})]}),e("div",{className:"space-y-2",children:[e("div",{children:[e("span",{className:"text-xs text-gray-500",children:"File Path:"}),e("div",{className:"text-sm font-mono text-gray-300 bg-gray-700/50 px-2 py-1 rounded",children:a.file_path})]}),a.section&&e("div",{children:[e("span",{className:"text-xs text-gray-500",children:"Section:"}),e("div",{className:"text-sm text-gray-300",children:a.section})]}),e("div",{children:[e("span",{className:"text-xs text-gray-500",children:"Description:"}),e("div",{className:"text-sm text-gray-300",children:a.description})]}),a.suggested_change&&e("div",{children:[e("span",{className:"text-xs text-gray-500",children:"Suggested Change:"}),e("div",{className:"text-sm text-gray-300 bg-gray-700/50 px-2 py-1 rounded",children:a.suggested_change})]})]})]}),e("div",{className:"text-xs text-gray-500",children:"ðŸ’¡ Tip: The file path has been provided above. You can edit the file directly or use Claude to make the changes."})]}),e("div",{className:"pt-2",children:[e("h4",{className:"text-sm font-medium text-gray-400 mb-2",children:"Common Configurations:"}),e("div",{className:"grid grid-cols-2 gap-2",children:["quality gates settings","MCP server configuration","git hooks setup","Claude settings","Docker configuration","build scripts"].map(p=>e("button",{onClick:()=>s(p),className:"text-left px-2 py-1 text-xs bg-gray-800 rounded hover:bg-gray-700 text-gray-400 hover:text-gray-300",children:p},p))})]})]})]})}):null}function zt(){const t=lt(),n=$t(),r=Lt(),s=Mt(),a=Ot(),[l,o]=_(!1),[c,d]=_(!1),[m,h]=_(!1),[i,p]=_(!1),[g,b]=_(null),[f,x]=_(null),[v,y]=_(null),[w,P]=_(null),[I,A]=_({}),[O,B]=_({}),[T,R]=_({name:"",command:"",args:"",scope:"project"}),[j,F]=_({name:"",description:"",trigger:"",solution:"",scope:"project"}),[H,X]=_({event:"PreToolUse",command:"",scope:"project"});z(()=>{t.load(),n.load(),r.load(),s.load(),a.load()},[]);const fe=async u=>{u.preventDefault(),await t.add({name:T.name,command:T.command,args:T.args.split(" ").filter(E=>E),scope:T.scope}),R({name:"",command:"",args:"",scope:"project"}),o(!1)},ye=async u=>{const E=await t.getOne(u.name,u.scope);E&&b(E)},N=async u=>{u.preventDefault(),g&&(await t.update(g.name,g),b(null))},L=async()=>{!g||!confirm(`Delete MCP server "${g.name}"?`)||(await t.remove(g.name,g.scope),b(null))},$e=async u=>{u.preventDefault(),await n.create(j),F({name:"",description:"",trigger:"",solution:"",scope:"project"}),d(!1)},Le=async u=>{const E=await n.getContent(u.file);x({skill:u,content:E})},_e=async u=>{u.preventDefault(),f&&(await n.updateContent(f.skill.file,f.content),x(null))},ot=async()=>{!f||!confirm(`Delete skill "${f.skill.name}"?`)||(await n.remove(f.skill.file),x(null))},it=async u=>{const E=await r.getDetails(u.name);E&&y(E)},ct=async u=>{u.preventDefault(),await s.add(H),X({event:"PreToolUse",command:"",scope:"project"}),h(!1)},dt=u=>{P(u)},ut=async()=>{!w||!confirm(`Delete hook "${w.event}"?`)||(await s.remove(w.event,w.command,w.scope),P(null))},le=async(u,E)=>{A(U=>({...U,[u]:"loading"})),B(U=>({...U,[u]:""}));try{await E(),A(U=>({...U,[u]:"success"})),setTimeout(()=>{A(U=>({...U,[u]:"idle"}))},3e3)}catch(U){A(V=>({...V,[u]:"error"})),B(V=>({...V,[u]:U.message})),setTimeout(()=>{A(V=>({...V,[u]:"idle"})),B(V=>({...V,[u]:""}))},5e3)}},mt=()=>{le("commit",async()=>{if(!(await fetch("/api/skills/commit",{method:"POST"})).ok)throw new Error("Failed to commit changes")})},gt=()=>{le("pr",async()=>{if(!(await fetch("/api/git/create-pr",{method:"POST"})).ok)throw new Error("Failed to create PR")})},pt=()=>{le("quality",async()=>{if(!(await fetch("/api/quality/check",{method:"POST"})).ok)throw new Error("Quality checks failed")})},ht=()=>{le("retrospective",async()=>{if(!(await fetch("/api/skills/retrospective",{method:"POST"})).ok)throw new Error("Failed to extract learnings")})};return e("div",{className:"flex-1 overflow-y-auto",children:[e("div",{className:"p-4 border-b border-gray-700",children:[e("h2",{className:"font-semibold text-gray-300",children:"Claude Tools"}),e("p",{className:"text-xs text-gray-500",children:"MCP servers, skills, and settings"})]}),e(te,{title:"MCP Servers",onAdd:()=>o(!0),isEmpty:t.servers.length===0,emptyText:"No MCP servers configured",children:t.servers.map(u=>e(qe,{title:u.name,subtitle:`${u.scope} â€¢ ${u.command}`,checked:u.enabled,onToggle:E=>t.toggle(u.name,u.scope,E),onClick:()=>ye(u)},`${u.scope}-${u.name}`))}),e(te,{title:"Skills",onAdd:()=>d(!0),isEmpty:n.skills.length===0,emptyText:"No skills created yet",children:n.skills.map(u=>e("div",{className:"p-2 bg-gray-800 rounded-lg cursor-pointer hover:bg-gray-700",onClick:()=>Le(u),children:[e("div",{className:"text-sm font-medium",children:u.name}),e("div",{className:"text-xs text-gray-500",children:u.description||u.scope})]},u.file))}),e(te,{title:"Built-in Tools",isEmpty:r.tools.length===0,children:r.tools.map(u=>e(qe,{title:u.name,subtitle:u.description,checked:u.enabled,onToggle:E=>r.toggle(u.name,E),onClick:()=>it(u)},u.name))}),e(te,{title:"Hooks",onAdd:()=>h(!0),isEmpty:s.hooks.length===0,emptyText:"No hooks configured",children:s.hooks.map((u,E)=>e("div",{className:"flex items-center justify-between p-2 bg-gray-800 rounded-lg cursor-pointer hover:bg-gray-700",onClick:()=>dt(u),children:[e("div",{className:"flex-1 min-w-0",children:[e("div",{className:"text-sm font-medium",children:u.event}),e("div",{className:"text-xs text-gray-500 truncate",children:[u.scope," â€¢ ",u.command]})]}),e("button",{onClick:U=>{U.stopPropagation(),s.remove(u.event,u.command,u.scope)},className:"ml-2 p-1 text-red-400 hover:text-red-300",children:e("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},E))}),e(te,{title:"Agents",isEmpty:!a.agents||a.agents.subagents.length===0&&a.agents.polecats.length===0&&a.agents.containers.length===0,emptyText:"No active agents",children:[a.agents&&e("div",{className:"space-y-2",children:[a.agents.subagents.map(u=>e("div",{className:"p-2 bg-gray-800 rounded-lg",children:e("div",{className:"flex items-center justify-between",children:[e("div",{className:"flex-1 min-w-0",children:[e("div",{className:"text-sm font-medium truncate",children:u.feature_name||u.id}),e("div",{className:"text-xs text-gray-500",children:["Subagent â€¢ ",Math.round(u.duration),"s â€¢ ",u.status]})]}),e("div",{className:`w-2 h-2 rounded-full ${u.status==="running"?"bg-green-400":u.status==="complete"?"bg-blue-400":"bg-yellow-400"}`})]})},u.id)),a.agents.polecats.map(u=>e("div",{className:"p-2 bg-gray-800 rounded-lg",children:e("div",{className:"flex items-center justify-between",children:[e("div",{className:"flex-1 min-w-0",children:[e("div",{className:"text-sm font-medium truncate",children:["Polecat ",u.id]}),e("div",{className:"text-xs text-gray-500",children:["Machine ",u.machine_id," â€¢ Convoy ",u.convoy_id]})]}),e("div",{className:"text-xs text-gray-400",children:u.status})]})},u.id)),a.agents.containers.map(u=>e("div",{className:"p-2 bg-gray-800 rounded-lg",children:e("div",{className:"flex items-center justify-between",children:[e("div",{className:"flex-1 min-w-0",children:[e("div",{className:"text-sm font-medium truncate",children:u.name}),e("div",{className:"text-xs text-gray-500",children:["Container â€¢ Project ",u.project_id]})]}),e("div",{className:"text-xs text-gray-400",children:u.status})]})},u.name))]}),a.loading&&e("div",{className:"text-sm text-gray-500",children:"Loading agents..."}),a.error&&e("div",{className:"text-sm text-red-400",children:["Error: ",a.error]})]}),e("div",{className:"p-4",children:[e("h3",{className:"text-sm font-medium text-gray-400 mb-3",children:"Quick Actions"}),e("div",{className:"space-y-2",children:[e(ie,{onClick:mt,label:"Commit changes",state:I.commit||"idle",error:O.commit}),e(ie,{onClick:gt,label:"Create PR",state:I.pr||"idle",error:O.pr}),e(ie,{onClick:pt,label:"Run quality checks",state:I.quality||"idle",error:O.quality}),e(ie,{onClick:ht,label:"Extract learnings",state:I.retrospective||"idle",error:O.retrospective}),e("button",{onClick:()=>p(!0),className:"w-full text-left px-3 py-2 bg-gray-800 rounded-lg hover:bg-gray-700 text-sm flex items-center justify-between",children:[e("span",{children:"Configuration Helper"}),e("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})]})]})]}),e(W,{isOpen:l,onClose:()=>o(!1),title:"Add MCP Server",children:e("form",{onSubmit:fe,children:[e(ne,{children:[e(D,{label:"Name",children:e("input",{type:"text",value:T.name,onInput:u=>R({...T,name:u.target.value}),required:!0,placeholder:"my-server",className:"form-input"})}),e(D,{label:"Command",children:e("input",{type:"text",value:T.command,onInput:u=>R({...T,command:u.target.value}),required:!0,placeholder:"npx",className:"form-input"})}),e(D,{label:"Arguments (space separated)",children:e("input",{type:"text",value:T.args,onInput:u=>R({...T,args:u.target.value}),placeholder:"-y @modelcontextprotocol/server-github",className:"form-input"})}),e(D,{label:"Scope",children:e("select",{value:T.scope,onChange:u=>R({...T,scope:u.target.value}),className:"form-input",children:[e("option",{value:"project",children:"Project"}),e("option",{value:"global",children:"Global"})]})})]}),e(Y,{onCancel:()=>o(!1),submitLabel:"Add"})]})}),e(W,{isOpen:!!g,onClose:()=>b(null),title:"MCP Server",children:g&&e("form",{onSubmit:N,children:[e(ne,{children:[e(D,{label:"Name",children:e("input",{type:"text",value:g.name,onInput:u=>b({...g,name:u.target.value}),className:"form-input"})}),e(D,{label:"Command",children:e("input",{type:"text",value:g.command,onInput:u=>b({...g,command:u.target.value}),className:"form-input"})}),e(D,{label:"Arguments",children:e("input",{type:"text",value:g.args.join(" "),onInput:u=>b({...g,args:u.target.value.split(" ").filter(E=>E)}),className:"form-input"})}),e("div",{className:"flex items-center justify-between",children:[e("span",{className:"text-sm text-gray-400",children:"Enabled"}),e(ge,{checked:g.enabled,onChange:u=>b({...g,enabled:u})})]}),e("div",{className:"text-xs text-gray-500",children:["Scope: ",g.scope]})]}),e(Y,{onCancel:()=>b(null),onDelete:L,submitLabel:"Save"})]})}),e(W,{isOpen:c,onClose:()=>d(!1),title:"Create Skill",children:e("form",{onSubmit:$e,children:[e(ne,{children:[e(D,{label:"Name",children:e("input",{type:"text",value:j.name,onInput:u=>F({...j,name:u.target.value}),required:!0,placeholder:"fix-common-error",className:"form-input"})}),e(D,{label:"Description",children:e("input",{type:"text",value:j.description,onInput:u=>F({...j,description:u.target.value}),placeholder:"What this skill does",className:"form-input"})}),e(D,{label:"Trigger (when to use)",children:e("textarea",{value:j.trigger,onInput:u=>F({...j,trigger:u.target.value}),rows:2,placeholder:"When error X occurs...",className:"form-input"})}),e(D,{label:"Solution",children:e("textarea",{value:j.solution,onInput:u=>F({...j,solution:u.target.value}),rows:4,placeholder:"Steps to fix...",className:"form-input"})})]}),e(Y,{onCancel:()=>d(!1),submitLabel:"Create"})]})}),e(W,{isOpen:!!f,onClose:()=>x(null),title:f?.skill.name||"",children:f&&e("form",{onSubmit:_e,children:[e(ne,{children:[e(D,{label:"Content",children:e("textarea",{value:f.content,onInput:u=>x({...f,content:u.target.value}),rows:12,className:"form-input font-mono text-sm"})}),e("div",{className:"text-xs text-gray-500",children:["Path: ",f.skill.file]})]}),e(Y,{onCancel:()=>x(null),onDelete:ot,submitLabel:"Save"})]})}),e(W,{isOpen:!!v,onClose:()=>y(null),title:v?.name||"",children:v&&e("div",{className:"space-y-4",children:[e("div",{children:[e("label",{className:"block text-sm text-gray-400 mb-1",children:"Description"}),e("p",{className:"text-sm",children:v.description})]}),e("div",{children:[e("label",{className:"block text-sm text-gray-400 mb-1",children:"Details"}),e("p",{className:"text-sm text-gray-300",children:v.details||"No additional details available."})]}),e("div",{className:"flex items-center justify-between p-3 bg-gray-700 rounded-lg",children:[e("span",{className:"text-sm",children:"Enabled"}),e(ge,{checked:v.enabled,onChange:u=>{r.toggle(v.name,u),y({...v,enabled:u})}})]}),v.denied_in&&e("div",{className:"text-xs text-yellow-400",children:["Disabled in ",v.denied_in," settings"]}),e("button",{onClick:()=>y(null),className:"w-full px-4 py-3 bg-gray-700 rounded-lg hover:bg-gray-600",children:"Close"})]})}),e(W,{isOpen:m,onClose:()=>h(!1),title:"Add Hook",children:e("form",{onSubmit:ct,children:[e(ne,{children:[e(D,{label:"Event",children:e("select",{value:H.event,onChange:u=>X({...H,event:u.target.value}),className:"form-input",children:[e("option",{value:"PreToolUse",children:"PreToolUse - Before tool runs"}),e("option",{value:"PostToolUse",children:"PostToolUse - After tool runs"}),e("option",{value:"Notification",children:"Notification - On notifications"}),e("option",{value:"Stop",children:"Stop - When Claude stops"})]})}),e(D,{label:"Command",children:e("input",{type:"text",value:H.command,onInput:u=>X({...H,command:u.target.value}),required:!0,placeholder:"npm run lint",className:"form-input"})}),e(D,{label:"Scope",children:e("select",{value:H.scope,onChange:u=>X({...H,scope:u.target.value}),className:"form-input",children:[e("option",{value:"project",children:"Project"}),e("option",{value:"global",children:"Global"})]})})]}),e(Y,{onCancel:()=>h(!1),submitLabel:"Add"})]})}),e(W,{isOpen:!!w,onClose:()=>P(null),title:"Hook",children:w&&e("div",{className:"space-y-4",children:[e(D,{label:"Event",children:e("p",{className:"text-sm",children:w.event})}),e(D,{label:"Command",children:e("p",{className:"text-sm font-mono bg-gray-700 p-2 rounded",children:w.command})}),e(D,{label:"Scope",children:e("p",{className:"text-sm",children:w.scope})}),e(Y,{onCancel:()=>P(null),onDelete:ut,submitLabel:""})]})}),e(qt,{isOpen:i,onClose:()=>p(!1)})]})}function te({title:t,onAdd:n,isEmpty:r,emptyText:s,children:a}){return e("div",{className:"p-4 border-b border-gray-700",children:[e("div",{className:"flex items-center justify-between mb-3",children:[e("h3",{className:"text-sm font-medium text-gray-400",children:t}),n&&e("button",{onClick:n,className:"text-xs px-2 py-1 bg-gray-700 rounded hover:bg-gray-600",children:"+ Add"})]}),e("div",{className:"space-y-2",children:r?e("div",{className:"text-sm text-gray-500",children:s}):a})]})}function qe({title:t,subtitle:n,checked:r,onToggle:s,onClick:a}){return e("div",{className:"flex items-center justify-between p-2 bg-gray-800 rounded-lg cursor-pointer hover:bg-gray-700",children:[e("div",{className:"flex-1 min-w-0",onClick:a,children:[e("div",{className:"text-sm font-medium truncate",children:t}),e("div",{className:"text-xs text-gray-500",children:n})]}),e("div",{onClick:l=>l.stopPropagation(),children:e(ge,{checked:r,onChange:s})})]})}function ie({onClick:t,label:n,state:r,error:s}){const a=()=>{switch(r){case"loading":return e("svg",{className:"w-4 h-4 animate-spin text-blue-400",fill:"none",viewBox:"0 0 24 24",children:[e("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e("path",{className:"opacity-75",fill:"currentColor",d:"m4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]});case"success":return e("svg",{className:"w-4 h-4 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})});case"error":return e("svg",{className:"w-4 h-4 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})});default:return null}};return e("div",{children:[e("button",{onClick:t,disabled:r==="loading",className:`w-full text-left px-3 py-2 rounded-lg text-sm flex items-center justify-between ${(()=>{switch(r){case"success":return"bg-green-800/20 hover:bg-green-700/30 border border-green-600/30";case"error":return"bg-red-800/20 hover:bg-red-700/30 border border-red-600/30";default:return"bg-gray-800 hover:bg-gray-700"}})()}`,children:[e("span",{children:n}),a()]}),r==="error"&&s&&e("div",{className:"mt-1 px-3 py-1 text-xs text-red-400 bg-red-900/20 rounded",children:s})]})}function ne({children:t}){return e("div",{className:"space-y-4",children:t})}function D({label:t,children:n}){return e("div",{children:[e("label",{className:"block text-sm text-gray-400 mb-1",children:t}),n]})}function Y({onCancel:t,onDelete:n,submitLabel:r}){return e("div",{className:"flex gap-2 mt-6",children:[n&&e("button",{type:"button",onClick:n,className:"px-4 py-3 bg-red-600/20 text-red-400 rounded-lg hover:bg-red-600/30",children:"Delete"}),e("button",{type:"button",onClick:t,className:"flex-1 px-4 py-3 bg-gray-700 rounded-lg hover:bg-gray-600",children:"Cancel"}),r&&e("button",{type:"submit",className:"flex-1 px-4 py-3 bg-blue-600 rounded-lg hover:bg-blue-500",children:r})]})}function Gt(){const{logs:t,filter:n,loading:r,autoScroll:s,polling:a,load:l,clear:o,changeFilter:c,setAutoScroll:d,startPolling:m,stopPolling:h}=It(),i=Q(null);z(()=>(l(),m(),()=>h()),[]),z(()=>{s&&i.current&&i.current.scrollIntoView({behavior:"smooth"})},[t,s]);const p={info:"text-blue-400",warn:"text-yellow-400",error:"text-red-400",debug:"text-gray-500"},g={claude:"bg-purple-600/20 text-purple-400",system:"bg-gray-600/20 text-gray-400",container:"bg-blue-600/20 text-blue-400",api:"bg-green-600/20 text-green-400"},b=f=>{try{return new Date(f).toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"})}catch{return f}};return e("div",{className:"flex flex-col h-full",children:[e("div",{className:"p-4 border-b border-gray-700 flex-shrink-0",children:[e("div",{className:"flex items-center justify-between mb-3",children:[e("div",{children:[e("h2",{className:"font-semibold text-gray-300",children:"Logs"}),e("p",{className:"text-xs text-gray-500",children:"Activity and system logs"})]}),e("div",{className:"flex items-center gap-2",children:[e("select",{value:n,onChange:f=>c(f.target.value),className:"text-xs bg-gray-700 rounded px-2 py-1.5 focus:outline-none focus:ring-1 focus:ring-blue-500",children:[e("option",{value:"all",children:"All"}),e("option",{value:"claude",children:"Claude"}),e("option",{value:"system",children:"System"}),e("option",{value:"error",children:"Errors"})]}),e("button",{onClick:()=>l(),disabled:r,className:"p-1.5 bg-gray-700 rounded hover:bg-gray-600 disabled:opacity-50",title:"Refresh",children:e("span",{className:r?"animate-spin inline-block":"",children:"â†»"})}),e("button",{onClick:o,className:"p-1.5 bg-gray-700 rounded hover:bg-gray-600 text-red-400",title:"Clear logs",children:"âœ•"})]})]}),e("div",{className:"flex items-center gap-2 text-xs",children:[e("button",{onClick:a?h:m,className:`flex items-center gap-1 px-2 py-1 rounded ${a?"bg-green-600/20 text-green-400":"bg-gray-700 text-gray-400 hover:bg-gray-600"}`,children:[e("span",{className:`w-2 h-2 rounded-full ${a?"bg-green-400 animate-pulse":"bg-gray-500"}`}),a?"Live":"Paused"]}),e("span",{className:"text-gray-500",children:[t.length," entries"]})]})]}),e("div",{className:"flex-1 overflow-y-auto p-2 space-y-1 font-mono text-xs bg-gray-950",children:[t.length===0?e("div",{className:"text-gray-500 text-center py-8",children:r?"Loading logs...":"No logs yet"}):t.map(f=>e(Jt,{log:f,levelColors:p,sourceColors:g,formatTime:b},f.id)),e("div",{ref:i})]}),e("div",{className:"p-2 border-t border-gray-700 flex items-center justify-between flex-shrink-0",children:[e("label",{className:"flex items-center gap-2 text-xs text-gray-400 cursor-pointer",children:[e("input",{type:"checkbox",checked:s,onChange:f=>d(f.target.checked),className:"rounded bg-gray-700 border-gray-600 text-blue-500 focus:ring-blue-500 focus:ring-offset-0"}),"Auto-scroll"]}),e("span",{className:"text-xs text-gray-500",children:t.length>0&&`Last: ${b(t[t.length-1].timestamp)}`})]})]})}function Jt({log:t,levelColors:n,sourceColors:r,formatTime:s}){return e("div",{className:"flex items-start gap-2 py-1 px-2 hover:bg-gray-800/50 rounded group",children:[e("span",{className:"text-gray-600 flex-shrink-0 w-16",children:s(t.timestamp)}),e("span",{className:`flex-shrink-0 w-12 ${n[t.level]||"text-gray-400"}`,children:["[",t.level.toUpperCase().slice(0,4),"]"]}),e("span",{className:`flex-shrink-0 px-1.5 py-0.5 rounded text-[10px] ${r[t.source]||"bg-gray-600/20 text-gray-400"}`,children:t.source}),e("span",{className:"text-gray-300 break-all flex-1",children:t.message}),t.metadata&&Object.keys(t.metadata).length>0&&e("span",{className:"text-gray-600 opacity-0 group-hover:opacity-100 transition-opacity",title:JSON.stringify(t.metadata,null,2),children:"{ }"})]})}const Z=[{id:1,name:"GET NEXT FEATURE",shortName:"Feature",keywords:["feature_get_next","next feature","getting feature","feature queue"],description:"Fetching next task from queue"},{id:2,name:"PRE-PLANNING",shortName:"Planning",keywords:["skill-discovery","feature_discuss","feature_assumptions","feature_research","add-skill","npx skills"],description:"Discovering skills & clarifying requirements"},{id:3,name:"REFRESH CONTEXT",shortName:"Context",keywords:["task_plan.md","findings.md","progress.md","planning-with-files","Read task_plan"],description:"Loading planning files"},{id:4,name:"EXPLORE CODEBASE",shortName:"Explore",keywords:["aleph_search","aleph_peek","aleph_cite","Grep","Glob","searching","exploring"],description:"Searching and understanding code"},{id:5,name:"IMPLEMENT",shortName:"Implement",keywords:["Write","Edit","writing code","implementing","creating file","editing file"],description:"Writing code and tests"},{id:6,name:"QUALITY CHECK",shortName:"Quality",keywords:["quality_check","feature_verify","npm test","pytest","lint","tsc","type check","running tests"],description:"Running verification suite"},{id:7,name:"MARK COMPLETE",shortName:"Complete",keywords:["feature_mark_passing","aleph_refresh","marking complete","task complete"],description:"Finalizing and committing"},{id:8,name:"COMMIT",shortName:"Commit",keywords:["/commit","git commit","git add","committing","committed"],description:"Committing changes"},{id:9,name:"LEARN",shortName:"Learn",keywords:["/retrospective","extract learnings","saving skill","knowledge extraction"],description:"Extracting reusable knowledge"}];function Vt(){const[t,n]=_(0),[r,s]=_([]),[a,l]=_(!0),[o,c]=_(""),d=Q(null),m=Q(new Set),h=g=>{const b=g.toLowerCase();for(const f of Z)for(const x of f.keywords)if(b.includes(x.toLowerCase()))return f.id;return null},i=async()=>{try{const f=(await(await fetch("/api/logs?filter=all&limit=50")).json()).logs||[];for(const x of f.reverse()){const v=`${x.timestamp}-${x.message}`;if(m.current.has(v))continue;m.current.add(v);const y=h(x.message);y&&y!==t&&(n(y),c(x.message),s(w=>[{timestamp:x.timestamp,stage:y,message:x.message.slice(0,100)},...w].slice(0,20)))}}catch(g){console.error("Failed to fetch workflow logs:",g)}};z(()=>(i(),a&&(d.current=window.setInterval(i,2e3)),()=>{d.current&&clearInterval(d.current)}),[a]);const p=g=>g<t?"completed":g===t?"current":"pending";return e("div",{className:"h-full flex flex-col bg-gray-900",children:[e("div",{className:"p-4 border-b border-gray-700 flex items-center justify-between",children:[e("div",{children:[e("h2",{className:"font-semibold text-gray-300",children:"Workflow Pipeline"}),e("p",{className:"text-xs text-gray-500",children:"Production-ready loop status"})]}),e("button",{onClick:()=>l(!a),className:`px-3 py-1 text-xs rounded-full flex items-center gap-2 ${a?"bg-green-600/30 text-green-400 border border-green-500/50":"bg-gray-700 text-gray-400"}`,children:[e("span",{className:`w-2 h-2 rounded-full ${a?"bg-green-400 animate-pulse":"bg-gray-500"}`}),a?"Live":"Paused"]})]}),e("div",{className:"p-4 border-b border-gray-700",children:e("div",{className:"flex items-center justify-between gap-1 overflow-x-auto pb-2",children:Z.map((g,b)=>{const f=p(g.id);return e("div",{className:"flex items-center",children:[e("div",{className:`flex flex-col items-center min-w-[60px] ${f==="current"?"scale-110":""}`,title:`${g.name}: ${g.description}`,children:[e("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold transition-all ${f==="completed"?"bg-green-600 text-white":f==="current"?"bg-blue-500 text-white ring-2 ring-blue-400 ring-offset-2 ring-offset-gray-900 animate-pulse":"bg-gray-700 text-gray-400"}`,children:f==="completed"?"âœ“":g.id}),e("span",{className:`text-[10px] mt-1 text-center ${f==="current"?"text-blue-400 font-medium":"text-gray-500"}`,children:g.shortName})]}),b<Z.length-1&&e("div",{className:`w-4 h-0.5 mx-0.5 ${f==="completed"?"bg-green-600":"bg-gray-700"}`})]},g.id)})})}),t>0&&e("div",{className:"p-4 border-b border-gray-700 bg-blue-900/20",children:e("div",{className:"flex items-center gap-3",children:[e("div",{className:"w-10 h-10 rounded-full bg-blue-500 flex items-center justify-center text-lg font-bold",children:t}),e("div",{className:"flex-1 min-w-0",children:[e("div",{className:"text-sm font-medium text-blue-400",children:Z[t-1]?.name}),e("div",{className:"text-xs text-gray-400 truncate",children:o||Z[t-1]?.description})]})]})}),e("div",{className:"flex-1 overflow-y-auto p-4",children:[e("h3",{className:"text-xs font-medium text-gray-400 mb-3",children:"Stage Transitions"}),r.length===0?e("div",{className:"text-sm text-gray-500 text-center py-8",children:[e("div",{className:"text-2xl mb-2",children:"ðŸ”„"}),"Waiting for workflow activity...",e("div",{className:"text-xs mt-2",children:"Send a message to Claude to see the pipeline in action"})]}):e("div",{className:"space-y-2",children:r.map((g,b)=>e("div",{className:"p-2 bg-gray-800 rounded-lg text-xs",children:[e("div",{className:"flex items-center gap-2 mb-1",children:[e("span",{className:`px-1.5 py-0.5 rounded text-[10px] font-medium ${g.stage<=3?"bg-purple-600/30 text-purple-400":g.stage<=6?"bg-blue-600/30 text-blue-400":"bg-green-600/30 text-green-400"}`,children:Z[g.stage-1]?.shortName}),e("span",{className:"text-gray-500",children:new Date(g.timestamp).toLocaleTimeString()})]}),e("div",{className:"text-gray-300 truncate",children:g.message})]},b))})]}),e("div",{className:"p-3 border-t border-gray-700 bg-gray-800/50",children:e("div",{className:"flex items-center justify-center gap-4 text-[10px] text-gray-500",children:[e("div",{className:"flex items-center gap-1",children:[e("div",{className:"w-3 h-3 rounded-full bg-green-600"}),e("span",{children:"Completed"})]}),e("div",{className:"flex items-center gap-1",children:[e("div",{className:"w-3 h-3 rounded-full bg-blue-500 animate-pulse"}),e("span",{children:"Current"})]}),e("div",{className:"flex items-center gap-1",children:[e("div",{className:"w-3 h-3 rounded-full bg-gray-700"}),e("span",{children:"Pending"})]})]})})]})}function Kt(){const[t,n]=_("board"),[r,s]=_(!1),[a,l]=_(!1),o=Pt(),c=jt(),d=Tt(),m=Et(),h=At(),i=Dt(),p=Ht();z(()=>{o.refresh(),c.loadHistory(),d.load(),m.loadBranch(),i.loadProjects(),p.refresh(),g();const f=setInterval(o.refresh,1e4),x=setInterval(p.refresh,3e4);return()=>{clearInterval(f),clearInterval(x)}},[]);const g=async()=>{(await h.ping()).summary&&n("chat")},b=f=>{n("chat"),c.sendMessage(`Help me implement: ${f.name}

Description: ${f.description||"None"}

Test cases:
${f.test_cases?.join(`
`)||"None"}`)};return e("div",{className:"bg-gray-900 text-gray-100 min-h-screen flex flex-col",children:[e("header",{className:"bg-gray-800 border-b border-gray-700 px-4 py-3 flex-shrink-0 md:sticky md:top-0 z-50",children:e("div",{className:"flex items-center justify-between",children:[e("div",{className:"flex items-center gap-2",children:[e("h1",{className:"text-lg font-bold text-blue-400",children:"âš¡"}),e(Qt,{projects:d.projects,currentProject:d.currentProject,managedProjects:i.managedProjects,onSwitch:async f=>{await d.switchProject(f),o.refresh(),c.loadHistory(),m.loadBranch()},onOpenManaged:i.openProject,onNewProject:()=>s(!0)})]}),e("div",{className:"flex items-center gap-2",children:[e("span",{className:"text-xs text-gray-400 hidden sm:inline",children:o.board?.stats?`${o.board.stats.passing}/${o.board.stats.total} complete (${o.board.stats.progress_percent}%)`:"Loading..."}),e("button",{onClick:()=>l(!0),className:`p-2 rounded-lg text-sm flex items-center gap-1 ${p.health?.status==="healthy"?"bg-green-600/20 text-green-400 hover:bg-green-600/30":p.health?.status==="warning"?"bg-yellow-600/20 text-yellow-400 hover:bg-yellow-600/30":p.health?.status==="critical"?"bg-red-600/20 text-red-400 hover:bg-red-600/30 animate-pulse":"bg-gray-700 text-gray-400 hover:bg-gray-600"}`,title:`System: ${p.health?.status||"loading"}`,children:[e("span",{className:`w-2 h-2 rounded-full ${p.health?.status==="healthy"?"bg-green-400":p.health?.status==="warning"?"bg-yellow-400":p.health?.status==="critical"?"bg-red-400":"bg-gray-400"}`}),e("span",{className:"hidden sm:inline text-xs",children:p.health?`${p.health.memory.percent}%`:"..."})]}),e("button",{onClick:o.refresh,className:"p-2 bg-gray-700 rounded-lg hover:bg-gray-600 active:bg-gray-500 text-sm",children:"â†»"})]})]})}),e("div",{className:"md:hidden flex border-b border-gray-700 bg-gray-800 flex-shrink-0",children:[e(q,{active:t==="board",onClick:()=>n("board"),label:"Board"}),e(q,{active:t==="chat",onClick:()=>n("chat"),label:"Claude"}),e(q,{active:t==="flow",onClick:()=>n("flow"),label:"Flow"}),e(q,{active:t==="tools",onClick:()=>n("tools"),label:"Tools"}),e(q,{active:t==="logs",onClick:()=>n("logs"),label:"Logs"})]}),e("div",{className:"hidden md:flex border-b border-gray-700 bg-gray-800 flex-shrink-0 justify-center",children:[e(q,{active:t==="board",onClick:()=>n("board"),label:"Board"}),e(q,{active:t==="chat",onClick:()=>n("chat"),label:"Claude"}),e(q,{active:t==="flow",onClick:()=>n("flow"),label:"Flow"}),e(q,{active:t==="tools",onClick:()=>n("tools"),label:"Tools"}),e(q,{active:t==="logs",onClick:()=>n("logs"),label:"Logs"})]}),e("div",{className:"flex flex-1 overflow-hidden",children:[e("main",{className:`flex-1 flex flex-col overflow-hidden ${t!=="board"?"hidden":"flex"}`,children:e(Ut,{data:o.board,onMoveTask:o.moveTask,onAddTask:o.createTask,onWorkOnTask:b})}),e("aside",{className:`w-full flex-1 bg-gray-900 flex-col h-full ${t!=="chat"?"hidden":"flex"}`,children:e(Wt,{messages:c.messages,loading:c.loading,branch:m.branch,onSend:c.sendMessage,onStop:c.stopGeneration,onClear:c.clearHistory,onShowAddTask:()=>n("board"),isVisible:t==="chat"})}),e("aside",{className:`w-full flex-1 bg-gray-900 flex-col h-full overflow-y-auto ${t!=="tools"?"hidden":"flex"}`,children:e(zt,{})}),e("aside",{className:`w-full flex-1 bg-gray-900 flex-col h-full ${t!=="logs"?"hidden":"flex"}`,children:e(Gt,{})}),e("aside",{className:`w-full flex-1 bg-gray-900 flex-col h-full ${t!=="flow"?"hidden":"flex"}`,children:e(Vt,{})})]}),e(Xt,{isOpen:r,onClose:()=>s(!1),onCreate:async(f,x)=>{const v=await i.createProject(f,x);v.success&&v.project&&i.openProject(v.project.id)}}),e(Yt,{isOpen:a,onClose:()=>l(!1),health:p.health,onRefresh:p.refresh})]})}function Qt({projects:t,currentProject:n,managedProjects:r,onSwitch:s,onOpenManaged:a,onNewProject:l}){const[o,c]=_(!1);return e("div",{className:"relative",children:[e("button",{onClick:()=>c(!o),className:"flex items-center gap-1 px-2 py-1 bg-gray-700 rounded-lg hover:bg-gray-600 text-sm",children:[e("span",{children:n||"vibes"}),e("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),o&&e("div",{className:"absolute left-0 mt-1 w-64 bg-gray-800 border border-gray-700 rounded-lg shadow-lg z-50",children:e("div",{className:"py-1 max-h-80 overflow-y-auto",children:[e("div",{className:"px-3 py-1 text-xs text-gray-500 uppercase",children:"Current"}),t.map(d=>e("button",{onClick:()=>{s(d.path),c(!1)},className:`w-full text-left px-3 py-2 hover:bg-gray-700 text-sm ${d.current?"text-blue-400":""}`,children:[d.current&&e("span",{className:"mr-1",children:"â—"}),d.name]},d.path)),r.length>0&&e(J,{children:[e("div",{className:"border-t border-gray-700 my-1"}),e("div",{className:"px-3 py-1 text-xs text-gray-500 uppercase",children:"Isolated Projects"}),r.map(d=>e("button",{onClick:()=>{a(d.id),c(!1)},className:"w-full text-left px-3 py-2 hover:bg-gray-700 text-sm flex items-center justify-between",children:[e("span",{children:d.name}),e("span",{className:`text-xs px-1.5 py-0.5 rounded ${d.container_status==="running"?"bg-green-600/20 text-green-400":"bg-gray-600/20 text-gray-400"}`,children:d.container_status})]},d.id))]}),e("div",{className:"border-t border-gray-700 my-1"}),e("button",{onClick:()=>{l(),c(!1)},className:"w-full text-left px-3 py-2 hover:bg-gray-700 text-sm text-blue-400 flex items-center gap-2",children:[e("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"New Isolated Project"]})]})})]})}function Xt({isOpen:t,onClose:n,onCreate:r}){const[s,a]=_(""),[l,o]=_(""),[c,d]=_(!1),[m,h]=_(""),i=async()=>{if(!s.trim()){h("Project name is required");return}d(!0),h("");try{await r(s.trim(),l.trim()||void 0),a(""),o(""),n()}catch(p){h(p.message)}finally{d(!1)}};return t?e(W,{isOpen:t,onClose:n,title:"New Isolated Project",children:e("div",{className:"space-y-4",children:[e("p",{className:"text-sm text-gray-400",children:"Create a new project in its own isolated Docker container."}),e("div",{children:[e("label",{className:"block text-sm font-medium mb-1",children:"Project Name"}),e("input",{type:"text",value:s,onInput:p=>a(p.target.value),placeholder:"my-awesome-project",className:"w-full bg-gray-700 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e("div",{children:[e("label",{className:"block text-sm font-medium mb-1",children:"Git URL (optional)"}),e("input",{type:"text",value:l,onInput:p=>o(p.target.value),placeholder:"https://github.com/user/repo.git",className:"w-full bg-gray-700 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"}),e("p",{className:"text-xs text-gray-500 mt-1",children:"Leave empty to create a blank project"})]}),m&&e("div",{className:"text-sm text-red-400 bg-red-400/10 rounded-lg px-3 py-2",children:m}),e("div",{className:"flex gap-2 justify-end",children:[e("button",{onClick:n,className:"px-4 py-2 text-sm bg-gray-700 rounded-lg hover:bg-gray-600",children:"Cancel"}),e("button",{onClick:i,disabled:c,className:"px-4 py-2 text-sm bg-blue-600 rounded-lg hover:bg-blue-500 disabled:opacity-50",children:c?"Creating...":"Create Project"})]})]})}):null}function Yt({isOpen:t,onClose:n,health:r,onRefresh:s}){if(!t)return null;const a={healthy:"text-green-400",warning:"text-yellow-400",critical:"text-red-400",error:"text-red-400"},l=({percent:o,color:c})=>e("div",{className:"w-full bg-gray-700 rounded-full h-2",children:e("div",{className:`h-2 rounded-full ${c}`,style:{width:`${Math.min(o,100)}%`}})});return e(W,{isOpen:t,onClose:n,title:"System Health",children:e("div",{className:"space-y-4",children:r?e(J,{children:[e("div",{className:"flex items-center justify-between",children:[e("span",{className:`text-lg font-bold ${a[r.status]}`,children:r.status.toUpperCase()}),e("button",{onClick:s,className:"text-xs text-gray-400 hover:text-white",children:"Refresh"})]}),r.warnings.length>0&&e("div",{className:"bg-yellow-600/10 border border-yellow-600/30 rounded-lg p-3",children:[e("div",{className:"text-yellow-400 text-sm font-medium mb-1",children:"Warnings"}),r.warnings.map((o,c)=>e("div",{className:"text-yellow-300/80 text-xs",children:o},c))]}),e("div",{children:[e("div",{className:"flex justify-between text-sm mb-1",children:[e("span",{children:"CPU"}),e("span",{className:"text-gray-400",children:[r.cpu.percent,"% (",r.cpu.cores," cores)"]})]}),e(l,{percent:r.cpu.percent,color:r.cpu.percent>80?"bg-red-500":r.cpu.percent>60?"bg-yellow-500":"bg-green-500"}),e("div",{className:"text-xs text-gray-500 mt-1",children:["Load: ",r.cpu.load_1m," / ",r.cpu.load_5m," / ",r.cpu.load_15m]})]}),e("div",{children:[e("div",{className:"flex justify-between text-sm mb-1",children:[e("span",{children:"Memory"}),e("span",{className:"text-gray-400",children:[r.memory.used_gb,"GB / ",r.memory.total_gb,"GB (",r.memory.percent,"%)"]})]}),e(l,{percent:r.memory.percent,color:r.memory.percent>85?"bg-red-500":r.memory.percent>70?"bg-yellow-500":"bg-green-500"})]}),e("div",{children:[e("div",{className:"flex justify-between text-sm mb-1",children:[e("span",{children:"Disk"}),e("span",{className:"text-gray-400",children:[r.disk.used_gb,"GB / ",r.disk.total_gb,"GB (",r.disk.percent,"%)"]})]}),e(l,{percent:r.disk.percent,color:r.disk.percent>90?"bg-red-500":r.disk.percent>80?"bg-yellow-500":"bg-green-500"})]}),e("div",{children:[e("div",{className:"flex justify-between text-sm mb-2",children:[e("span",{children:"Containers"}),e("span",{className:"text-gray-400",children:[r.containers.running," / ",r.containers.total," running"]})]}),e("div",{className:"space-y-1 max-h-32 overflow-y-auto",children:r.containers.list.map((o,c)=>e("div",{className:"flex items-center justify-between text-xs bg-gray-800 rounded px-2 py-1",children:[e("span",{className:"truncate",children:o.name}),e("span",{className:`px-1.5 py-0.5 rounded ${o.status==="running"?"bg-green-600/20 text-green-400":"bg-gray-600/20 text-gray-400"}`,children:o.status})]},c))})]}),e("div",{className:"text-xs text-gray-500 text-center",children:["Last updated: ",new Date(r.timestamp).toLocaleTimeString()]})]}):e("div",{className:"text-center py-4 text-gray-400",children:"Loading..."})})})}function q({active:t,onClick:n,label:r}){return e("button",{onClick:n,className:`flex-1 py-3 text-sm font-medium text-center ${t?"tab-active text-blue-400":"text-gray-400"}`,children:r})}Nt(e(Kt,{}),document.getElementById("app"));

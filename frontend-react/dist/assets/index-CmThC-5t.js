(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function l(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=l(o);fetch(o.href,a)}})();var ne,w,Me,U,ge,Ae,Oe,He,ue,oe,se,q={},je=[],et=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,le=Array.isArray;function j(t,e){for(var l in e)t[l]=e[l];return t}function _e(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function tt(t,e,l){var r,o,a,i={};for(a in e)a=="key"?r=e[a]:a=="ref"?o=e[a]:i[a]=e[a];if(arguments.length>2&&(i.children=arguments.length>3?ne.call(arguments,2):l),typeof t=="function"&&t.defaultProps!=null)for(a in t.defaultProps)i[a]===void 0&&(i[a]=t.defaultProps[a]);return Y(t,i,r,o,null)}function Y(t,e,l,r,o){var a={type:t,props:e,key:l,ref:r,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:o??++Me,__i:-1,__u:0};return o==null&&w.vnode!=null&&w.vnode(a),a}function G(t){return t.children}function Z(t,e){this.props=t,this.context=e}function W(t,e){if(e==null)return t.__?W(t.__,t.__i+1):null;for(var l;e<t.__k.length;e++)if((l=t.__k[e])!=null&&l.__e!=null)return l.__e;return typeof t.type=="function"?W(t):null}function Ee(t){var e,l;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((l=t.__k[e])!=null&&l.__e!=null){t.__e=t.__c.base=l.__e;break}return Ee(t)}}function ye(t){(!t.__d&&(t.__d=!0)&&U.push(t)&&!te.__r++||ge!=w.debounceRendering)&&((ge=w.debounceRendering)||Ae)(te)}function te(){for(var t,e,l,r,o,a,i,c=1;U.length;)U.length>c&&U.sort(Oe),t=U.shift(),c=U.length,t.__d&&(l=void 0,r=void 0,o=(r=(e=t).__v).__e,a=[],i=[],e.__P&&((l=j({},r)).__v=r.__v+1,w.vnode&&w.vnode(l),me(e.__P,l,r,e.__n,e.__P.namespaceURI,32&r.__u?[o]:null,a,o??W(r),!!(32&r.__u),i),l.__v=r.__v,l.__.__k[l.__i]=l,Ue(a,l,i),r.__e=r.__=null,l.__e!=o&&Ee(l)));te.__r=0}function Le(t,e,l,r,o,a,i,c,m,d,p){var s,g,h,y,C,v,f,_=r&&r.__k||je,b=e.length;for(m=nt(l,e,_,m,b),s=0;s<b;s++)(h=l.__k[s])!=null&&(g=h.__i==-1?q:_[h.__i]||q,h.__i=s,v=me(t,h,g,o,a,i,c,m,d,p),y=h.__e,h.ref&&g.ref!=h.ref&&(g.ref&&pe(g.ref,null,h),p.push(h.ref,h.__c||y,h)),C==null&&y!=null&&(C=y),(f=!!(4&h.__u))||g.__k===h.__k?m=Ie(h,m,t,f):typeof h.type=="function"&&v!==void 0?m=v:y&&(m=y.nextSibling),h.__u&=-7);return l.__e=C,m}function nt(t,e,l,r,o){var a,i,c,m,d,p=l.length,s=p,g=0;for(t.__k=new Array(o),a=0;a<o;a++)(i=e[a])!=null&&typeof i!="boolean"&&typeof i!="function"?(typeof i=="string"||typeof i=="number"||typeof i=="bigint"||i.constructor==String?i=t.__k[a]=Y(null,i,null,null,null):le(i)?i=t.__k[a]=Y(G,{children:i},null,null,null):i.constructor===void 0&&i.__b>0?i=t.__k[a]=Y(i.type,i.props,i.key,i.ref?i.ref:null,i.__v):t.__k[a]=i,m=a+g,i.__=t,i.__b=t.__b+1,c=null,(d=i.__i=lt(i,l,m,s))!=-1&&(s--,(c=l[d])&&(c.__u|=2)),c==null||c.__v==null?(d==-1&&(o>p?g--:o<p&&g++),typeof i.type!="function"&&(i.__u|=4)):d!=m&&(d==m-1?g--:d==m+1?g++:(d>m?g--:g++,i.__u|=4))):t.__k[a]=null;if(s)for(a=0;a<p;a++)(c=l[a])!=null&&(2&c.__u)==0&&(c.__e==r&&(r=W(c)),Fe(c,c));return r}function Ie(t,e,l,r){var o,a;if(typeof t.type=="function"){for(o=t.__k,a=0;o&&a<o.length;a++)o[a]&&(o[a].__=t,e=Ie(o[a],e,l,r));return e}t.__e!=e&&(r&&(e&&t.type&&!e.parentNode&&(e=W(t)),l.insertBefore(t.__e,e||null)),e=t.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType==8);return e}function lt(t,e,l,r){var o,a,i,c=t.key,m=t.type,d=e[l],p=d!=null&&(2&d.__u)==0;if(d===null&&c==null||p&&c==d.key&&m==d.type)return l;if(r>(p?1:0)){for(o=l-1,a=l+1;o>=0||a<e.length;)if((d=e[i=o>=0?o--:a++])!=null&&(2&d.__u)==0&&c==d.key&&m==d.type)return i}return-1}function ve(t,e,l){e[0]=="-"?t.setProperty(e,l??""):t[e]=l==null?"":typeof l!="number"||et.test(e)?l:l+"px"}function K(t,e,l,r,o){var a,i;e:if(e=="style")if(typeof l=="string")t.style.cssText=l;else{if(typeof r=="string"&&(t.style.cssText=r=""),r)for(e in r)l&&e in l||ve(t.style,e,"");if(l)for(e in l)r&&l[e]==r[e]||ve(t.style,e,l[e])}else if(e[0]=="o"&&e[1]=="n")a=e!=(e=e.replace(He,"$1")),i=e.toLowerCase(),e=i in t||e=="onFocusOut"||e=="onFocusIn"?i.slice(2):e.slice(2),t.l||(t.l={}),t.l[e+a]=l,l?r?l.u=r.u:(l.u=ue,t.addEventListener(e,a?se:oe,a)):t.removeEventListener(e,a?se:oe,a);else{if(o=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in t)try{t[e]=l??"";break e}catch{}typeof l=="function"||(l==null||l===!1&&e[4]!="-"?t.removeAttribute(e):t.setAttribute(e,e=="popover"&&l==1?"":l))}}function be(t){return function(e){if(this.l){var l=this.l[e.type+t];if(e.t==null)e.t=ue++;else if(e.t<l.u)return;return l(w.event?w.event(e):e)}}}function me(t,e,l,r,o,a,i,c,m,d){var p,s,g,h,y,C,v,f,_,b,S,A,M,L,B,I,R,O=e.type;if(e.constructor!==void 0)return null;128&l.__u&&(m=!!(32&l.__u),a=[c=e.__e=l.__e]),(p=w.__b)&&p(e);e:if(typeof O=="function")try{if(f=e.props,_="prototype"in O&&O.prototype.render,b=(p=O.contextType)&&r[p.__c],S=p?b?b.props.value:p.__:r,l.__c?v=(s=e.__c=l.__c).__=s.__E:(_?e.__c=s=new O(f,S):(e.__c=s=new Z(f,S),s.constructor=O,s.render=at),b&&b.sub(s),s.state||(s.state={}),s.__n=r,g=s.__d=!0,s.__h=[],s._sb=[]),_&&s.__s==null&&(s.__s=s.state),_&&O.getDerivedStateFromProps!=null&&(s.__s==s.state&&(s.__s=j({},s.__s)),j(s.__s,O.getDerivedStateFromProps(f,s.__s))),h=s.props,y=s.state,s.__v=e,g)_&&O.getDerivedStateFromProps==null&&s.componentWillMount!=null&&s.componentWillMount(),_&&s.componentDidMount!=null&&s.__h.push(s.componentDidMount);else{if(_&&O.getDerivedStateFromProps==null&&f!==h&&s.componentWillReceiveProps!=null&&s.componentWillReceiveProps(f,S),e.__v==l.__v||!s.__e&&s.shouldComponentUpdate!=null&&s.shouldComponentUpdate(f,s.__s,S)===!1){for(e.__v!=l.__v&&(s.props=f,s.state=s.__s,s.__d=!1),e.__e=l.__e,e.__k=l.__k,e.__k.some(function(E){E&&(E.__=e)}),A=0;A<s._sb.length;A++)s.__h.push(s._sb[A]);s._sb=[],s.__h.length&&i.push(s);break e}s.componentWillUpdate!=null&&s.componentWillUpdate(f,s.__s,S),_&&s.componentDidUpdate!=null&&s.__h.push(function(){s.componentDidUpdate(h,y,C)})}if(s.context=S,s.props=f,s.__P=t,s.__e=!1,M=w.__r,L=0,_){for(s.state=s.__s,s.__d=!1,M&&M(e),p=s.render(s.props,s.state,s.context),B=0;B<s._sb.length;B++)s.__h.push(s._sb[B]);s._sb=[]}else do s.__d=!1,M&&M(e),p=s.render(s.props,s.state,s.context),s.state=s.__s;while(s.__d&&++L<25);s.state=s.__s,s.getChildContext!=null&&(r=j(j({},r),s.getChildContext())),_&&!g&&s.getSnapshotBeforeUpdate!=null&&(C=s.getSnapshotBeforeUpdate(h,y)),I=p,p!=null&&p.type===G&&p.key==null&&(I=Be(p.props.children)),c=Le(t,le(I)?I:[I],e,l,r,o,a,i,c,m,d),s.base=e.__e,e.__u&=-161,s.__h.length&&i.push(s),v&&(s.__E=s.__=null)}catch(E){if(e.__v=null,m||a!=null)if(E.then){for(e.__u|=m?160:128;c&&c.nodeType==8&&c.nextSibling;)c=c.nextSibling;a[a.indexOf(c)]=null,e.__e=c}else{for(R=a.length;R--;)_e(a[R]);ie(e)}else e.__e=l.__e,e.__k=l.__k,E.then||ie(e);w.__e(E,e,l)}else a==null&&e.__v==l.__v?(e.__k=l.__k,e.__e=l.__e):c=e.__e=rt(l.__e,e,l,r,o,a,i,m,d);return(p=w.diffed)&&p(e),128&e.__u?void 0:c}function ie(t){t&&t.__c&&(t.__c.__e=!0),t&&t.__k&&t.__k.forEach(ie)}function Ue(t,e,l){for(var r=0;r<l.length;r++)pe(l[r],l[++r],l[++r]);w.__c&&w.__c(e,t),t.some(function(o){try{t=o.__h,o.__h=[],t.some(function(a){a.call(o)})}catch(a){w.__e(a,o.__v)}})}function Be(t){return typeof t!="object"||t==null||t.__b&&t.__b>0?t:le(t)?t.map(Be):j({},t)}function rt(t,e,l,r,o,a,i,c,m){var d,p,s,g,h,y,C,v=l.props||q,f=e.props,_=e.type;if(_=="svg"?o="http://www.w3.org/2000/svg":_=="math"?o="http://www.w3.org/1998/Math/MathML":o||(o="http://www.w3.org/1999/xhtml"),a!=null){for(d=0;d<a.length;d++)if((h=a[d])&&"setAttribute"in h==!!_&&(_?h.localName==_:h.nodeType==3)){t=h,a[d]=null;break}}if(t==null){if(_==null)return document.createTextNode(f);t=document.createElementNS(o,_,f.is&&f),c&&(w.__m&&w.__m(e,a),c=!1),a=null}if(_==null)v===f||c&&t.data==f||(t.data=f);else{if(a=a&&ne.call(t.childNodes),!c&&a!=null)for(v={},d=0;d<t.attributes.length;d++)v[(h=t.attributes[d]).name]=h.value;for(d in v)if(h=v[d],d!="children"){if(d=="dangerouslySetInnerHTML")s=h;else if(!(d in f)){if(d=="value"&&"defaultValue"in f||d=="checked"&&"defaultChecked"in f)continue;K(t,d,null,h,o)}}for(d in f)h=f[d],d=="children"?g=h:d=="dangerouslySetInnerHTML"?p=h:d=="value"?y=h:d=="checked"?C=h:c&&typeof h!="function"||v[d]===h||K(t,d,h,v[d],o);if(p)c||s&&(p.__html==s.__html||p.__html==t.innerHTML)||(t.innerHTML=p.__html),e.__k=[];else if(s&&(t.innerHTML=""),Le(e.type=="template"?t.content:t,le(g)?g:[g],e,l,r,_=="foreignObject"?"http://www.w3.org/1999/xhtml":o,a,i,a?a[0]:l.__k&&W(l,0),c,m),a!=null)for(d=a.length;d--;)_e(a[d]);c||(d="value",_=="progress"&&y==null?t.removeAttribute("value"):y!=null&&(y!==t[d]||_=="progress"&&!y||_=="option"&&y!=v[d])&&K(t,d,y,v[d],o),d="checked",C!=null&&C!=t[d]&&K(t,d,C,v[d],o))}return t}function pe(t,e,l){try{if(typeof t=="function"){var r=typeof t.__u=="function";r&&t.__u(),r&&e==null||(t.__u=t(e))}else t.current=e}catch(o){w.__e(o,l)}}function Fe(t,e,l){var r,o;if(w.unmount&&w.unmount(t),(r=t.ref)&&(r.current&&r.current!=t.__e||pe(r,null,e)),(r=t.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(a){w.__e(a,e)}r.base=r.__P=null}if(r=t.__k)for(o=0;o<r.length;o++)r[o]&&Fe(r[o],e,l||typeof t.type!="function");l||_e(t.__e),t.__c=t.__=t.__e=void 0}function at(t,e,l){return this.constructor(t,l)}function ot(t,e,l){var r,o,a,i;e==document&&(e=document.documentElement),w.__&&w.__(t,e),o=(r=!1)?null:e.__k,a=[],i=[],me(e,t=e.__k=tt(G,null,[t]),o||q,q,e.namespaceURI,o?null:e.firstChild?ne.call(e.childNodes):null,a,o?o.__e:e.firstChild,r,i),Ue(a,t,i)}ne=je.slice,w={__e:function(t,e,l,r){for(var o,a,i;e=e.__;)if((o=e.__c)&&!o.__)try{if((a=o.constructor)&&a.getDerivedStateFromError!=null&&(o.setState(a.getDerivedStateFromError(t)),i=o.__d),o.componentDidCatch!=null&&(o.componentDidCatch(t,r||{}),i=o.__d),i)return o.__E=o}catch(c){t=c}throw t}},Me=0,Z.prototype.setState=function(t,e){var l;l=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=j({},this.state),typeof t=="function"&&(t=t(j({},l),this.props)),t&&j(l,t),t!=null&&this.__v&&(e&&this._sb.push(e),ye(this))},Z.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),ye(this))},Z.prototype.render=G,U=[],Ae=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Oe=function(t,e){return t.__v.__b-e.__v.__b},te.__r=0,He=/(PointerCapture)$|Capture$/i,ue=0,oe=be(!1),se=be(!0);var st=0;function n(t,e,l,r,o,a){e||(e={});var i,c,m=e;if("ref"in m)for(c in m={},e)c=="ref"?i=e[c]:m[c]=e[c];var d={type:t,props:m,key:l,ref:i,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--st,__i:-1,__u:0,__source:o,__self:a};if(typeof t=="function"&&(i=t.defaultProps))for(c in i)m[c]===void 0&&(m[c]=i[c]);return w.vnode&&w.vnode(d),d}var J,T,re,xe,V=0,We=[],P=w,Ne=P.__b,ke=P.__r,we=P.diffed,Ce=P.__c,Se=P.unmount,Te=P.__;function he(t,e){P.__h&&P.__h(T,t,V||e),V=0;var l=T.__H||(T.__H={__:[],__h:[]});return t>=l.__.length&&l.__.push({}),l.__[t]}function x(t){return V=1,it(qe,t)}function it(t,e,l){var r=he(J++,2);if(r.t=t,!r.__c&&(r.__=[qe(void 0,e),function(c){var m=r.__N?r.__N[0]:r.__[0],d=r.t(m,c);m!==d&&(r.__N=[d,r.__[1]],r.__c.setState({}))}],r.__c=T,!T.__f)){var o=function(c,m,d){if(!r.__c.__H)return!0;var p=r.__c.__H.__.filter(function(g){return!!g.__c});if(p.every(function(g){return!g.__N}))return!a||a.call(this,c,m,d);var s=r.__c.props!==c;return p.forEach(function(g){if(g.__N){var h=g.__[0];g.__=g.__N,g.__N=void 0,h!==g.__[0]&&(s=!0)}}),a&&a.call(this,c,m,d)||s};T.__f=!0;var a=T.shouldComponentUpdate,i=T.componentWillUpdate;T.componentWillUpdate=function(c,m,d){if(this.__e){var p=a;a=void 0,o(c,m,d),a=p}i&&i.call(this,c,m,d)},T.shouldComponentUpdate=o}return r.__N||r.__}function fe(t,e){var l=he(J++,3);!P.__s&&ze(l.__H,e)&&(l.__=t,l.u=e,T.__H.__h.push(l))}function Pe(t){return V=5,Re(function(){return{current:t}},[])}function Re(t,e){var l=he(J++,7);return ze(l.__H,e)&&(l.__=t(),l.__H=e,l.__h=t),l.__}function N(t,e){return V=8,Re(function(){return t},e)}function ct(){for(var t;t=We.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(ee),t.__H.__h.forEach(ce),t.__H.__h=[]}catch(e){t.__H.__h=[],P.__e(e,t.__v)}}P.__b=function(t){T=null,Ne&&Ne(t)},P.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),Te&&Te(t,e)},P.__r=function(t){ke&&ke(t),J=0;var e=(T=t.__c).__H;e&&(re===T?(e.__h=[],T.__h=[],e.__.forEach(function(l){l.__N&&(l.__=l.__N),l.u=l.__N=void 0})):(e.__h.forEach(ee),e.__h.forEach(ce),e.__h=[],J=0)),re=T},P.diffed=function(t){we&&we(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(We.push(e)!==1&&xe===P.requestAnimationFrame||((xe=P.requestAnimationFrame)||dt)(ct)),e.__H.__.forEach(function(l){l.u&&(l.__H=l.u),l.u=void 0})),re=T=null},P.__c=function(t,e){e.some(function(l){try{l.__h.forEach(ee),l.__h=l.__h.filter(function(r){return!r.__||ce(r)})}catch(r){e.some(function(o){o.__h&&(o.__h=[])}),e=[],P.__e(r,l.__v)}}),Ce&&Ce(t,e)},P.unmount=function(t){Se&&Se(t);var e,l=t.__c;l&&l.__H&&(l.__H.__.forEach(function(r){try{ee(r)}catch(o){e=o}}),l.__H=void 0,e&&P.__e(e,l.__v))};var $e=typeof requestAnimationFrame=="function";function dt(t){var e,l=function(){clearTimeout(r),$e&&cancelAnimationFrame(e),setTimeout(t)},r=setTimeout(l,35);$e&&(e=requestAnimationFrame(l))}function ee(t){var e=T,l=t.__c;typeof l=="function"&&(t.__c=void 0,l()),T=e}function ce(t){var e=T;t.__c=t.__(),T=e}function ze(t,e){return!t||t.length!==e.length||e.some(function(l,r){return l!==t[r]})}function qe(t,e){return typeof e=="function"?e(t):e}const ut="/api";async function k(t,e){return(await fetch(`${ut}${t}`,{...e,headers:{"Content-Type":"application/json",...e?.headers}})).json()}function _t(){const[t,e]=x(null),[l,r]=x(!1),o=N(async()=>{r(!0);try{const c=await k("/board");e(c)}finally{r(!1)}},[]),a=N(async c=>{await k("/task",{method:"POST",body:JSON.stringify(c)}),await o()},[o]),i=N(async(c,m)=>{await k(`/task/${c}/move`,{method:"POST",body:JSON.stringify({status:m})}),await o()},[o]);return{board:t,loading:l,refresh:o,createTask:a,moveTask:i}}function mt(){const[t,e]=x([]),[l,r]=x(!1),o=N(async()=>{const c=await k("/chat/history");e(c.messages||[])},[]),a=N(async c=>{const m={role:"user",content:c};e(d=>[...d,m]),r(!0);try{const p={role:"assistant",content:(await k("/chat",{method:"POST",body:JSON.stringify({message:c})})).response};e(s=>[...s,p])}catch{const p={role:"error",content:"Error: Could not reach Claude"};e(s=>[...s,p])}finally{r(!1)}},[]),i=N(async()=>{await k("/chat/history",{method:"DELETE"}),e([])},[]);return{messages:t,loading:l,loadHistory:o,sendMessage:a,clearHistory:i}}function pt(){const[t,e]=x([]),[l,r]=x(""),o=N(async()=>{const i=await k("/projects");e(i.projects||[]);const c=i.projects?.find(m=>m.current);c&&r(c.name)},[]),a=N(async i=>{const c=await k("/projects/switch",{method:"POST",body:JSON.stringify({path:i})});return c.success&&r(c.project),c.success},[]);return{projects:t,currentProject:l,load:o,switchProject:a}}function ht(){const[t,e]=x([]),l=N(async()=>{const m=await k("/claude/mcp");e(m.servers||[])},[]),r=N(async m=>{await k("/claude/mcp",{method:"POST",body:JSON.stringify(m)}),await l()},[l]),o=N(async(m,d)=>{await k(`/claude/mcp/${m}`,{method:"PUT",body:JSON.stringify(d)}),await l()},[l]),a=N(async(m,d)=>{await k(`/claude/mcp/${m}`,{method:"DELETE",body:JSON.stringify({scope:d})}),await l()},[l]),i=N(async(m,d,p)=>{await k(`/claude/mcp/${m}/toggle`,{method:"POST",body:JSON.stringify({scope:d,enabled:p})}),await l()},[l]),c=N(async(m,d)=>{try{return await k(`/claude/mcp/${m}?scope=${d}`)}catch{return null}},[]);return{servers:t,load:l,add:r,update:o,remove:a,toggle:i,getOne:c}}function ft(){const[t,e]=x([]),l=N(async()=>{const c=await k("/claude/skills");e(c.skills||[])},[]),r=N(async c=>{await k("/claude/skills",{method:"POST",body:JSON.stringify(c)}),await l()},[l]),o=N(async c=>(await k(`/claude/skills${c}`)).content||"",[]),a=N(async(c,m)=>{await k(`/claude/skills${c}`,{method:"PUT",body:JSON.stringify({content:m})}),await l()},[l]),i=N(async c=>{await k(`/claude/skills${c}`,{method:"DELETE"}),await l()},[l]);return{skills:t,load:l,create:r,getContent:o,updateContent:a,remove:i}}function gt(){const[t,e]=x([]),l=N(async()=>{const a=await k("/claude/tools");e(a.tools||[])},[]),r=N(async(a,i)=>{await k(`/claude/tools/${a}/toggle`,{method:"POST",body:JSON.stringify({enabled:i,scope:"project"})}),await l()},[l]),o=N(async a=>{try{return await k(`/claude/tools/${a}`)}catch{return null}},[]);return{tools:t,load:l,toggle:r,getDetails:o}}function yt(){const[t,e]=x([]),l=N(async()=>{const i=await k("/claude/hooks");e(i.hooks||[])},[]),r=N(async i=>{await k("/claude/hooks",{method:"POST",body:JSON.stringify(i)}),await l()},[l]),o=N(async(i,c)=>{await k("/claude/hooks",{method:"PUT",body:JSON.stringify({old_event:i.event,old_command:i.command,old_scope:i.scope,event:c.event,command:c.command,scope:c.scope})}),await l()},[l]),a=N(async(i,c,m)=>{await k("/claude/hooks",{method:"DELETE",body:JSON.stringify({event:i,command:c,scope:m})}),await l()},[l]);return{hooks:t,load:l,add:r,update:o,remove:a}}function vt(){const[t,e]=x("main"),l=N(async()=>{const r=await k("/git/branch");e(r.branch||"main")},[]);return{branch:t,loadBranch:l}}function bt(){return{ping:N(async()=>await k("/session/ping",{method:"POST"}),[])}}function xt({task:t,onClick:e,onDragStart:l}){return n("div",{className:"bg-gray-700 rounded-lg p-3 cursor-pointer hover:bg-gray-600 active:bg-gray-500 transition-colors touch-manipulation",draggable:!0,onDragStart:r=>l(r,t.id),onClick:e,children:[n("div",{className:"flex items-start justify-between gap-2",children:[n("span",{className:"font-medium text-sm",children:t.name}),t.priority>50&&n("span",{className:"text-xs bg-red-500/20 text-red-400 px-1.5 py-0.5 rounded",children:"High"})]}),t.description&&n("p",{className:"text-xs text-gray-400 mt-1 line-clamp-2",children:t.description}),t.test_cases&&t.test_cases.length>0&&n("div",{className:"text-xs text-gray-500 mt-2",children:[t.test_cases.length," tests"]})]})}function H({isOpen:t,onClose:e,title:l,children:r}){return t?n("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:e,children:n("div",{className:"bg-gray-800 rounded-xl p-5 w-full max-w-md max-h-[90vh] overflow-y-auto",onClick:o=>o.stopPropagation(),children:[n("div",{className:"flex justify-between items-start mb-4",children:[n("h3",{className:"text-lg font-semibold",children:l}),n("button",{onClick:e,className:"text-gray-500 hover:text-gray-300 p-1 -mr-1",children:"✕"})]}),r]})}):null}function Nt({isOpen:t,onClose:e,children:l}){return t?n("div",{className:"fixed inset-0 bg-black/50 flex items-end justify-center z-50",onClick:e,children:n("div",{className:"bg-gray-800 rounded-t-2xl w-full max-w-lg p-4 safe-bottom",onClick:r=>r.stopPropagation(),children:[n("div",{className:"w-12 h-1 bg-gray-600 rounded-full mx-auto mb-4"}),l]})}):null}const kt=[{id:"pending",key:"todo",label:"To Do",color:"bg-gray-500"},{id:"in_progress",key:"in_progress",label:"In Progress",color:"bg-blue-500"},{id:"needs_review",key:"review",label:"Review",color:"bg-yellow-500"},{id:"passing",key:"done",label:"Done",color:"bg-green-500"}];function wt({data:t,onMoveTask:e,onAddTask:l,onWorkOnTask:r}){const[o,a]=x(!1),[i,c]=x(null),[m,d]=x({name:"",description:"",testCases:""}),[p,s]=x(null),g=(_,b)=>{_.dataTransfer?.setData("taskId",b)},h=(_,b)=>{_.preventDefault(),s(b)},y=(_,b)=>{_.preventDefault(),s(null);const S=_.dataTransfer?.getData("taskId");S&&e(S,b)},C=_=>{_.preventDefault(),l({name:m.name,description:m.description,test_cases:m.testCases.split(`
`).filter(b=>b.trim()),priority:0}),d({name:"",description:"",testCases:""}),a(!1)},v=_=>t?.board?t.board[_]||[]:[],f=_=>v(_).length;return n("div",{className:"flex-1 flex flex-col overflow-hidden",children:[n("div",{className:"flex-1 overflow-x-auto overflow-y-auto kanban-scroll p-4",children:n("div",{className:"flex md:grid md:grid-cols-4 gap-3 min-w-max md:min-w-0",children:kt.map(_=>n("div",{className:`w-72 md:w-auto bg-gray-800 rounded-lg p-3 flex-shrink-0 ${p===_.id?"ring-2 ring-blue-500":""}`,onDragOver:b=>h(b,_.id),onDragLeave:()=>s(null),onDrop:b=>y(b,_.id),children:[n("h2",{className:"font-semibold text-gray-300 mb-3 flex items-center gap-2 text-sm",children:[n("span",{className:`w-2.5 h-2.5 ${_.color} rounded-full`}),_.label,n("span",{className:"text-xs bg-gray-700 px-2 py-0.5 rounded-full",children:f(_.key)})]}),n("div",{className:"space-y-2 min-h-[150px]",children:v(_.key).map(b=>n(xt,{task:b,onClick:()=>c(b),onDragStart:g},b.id))})]},_.id))})}),n("div",{className:"p-4 border-t border-gray-700 flex-shrink-0 safe-bottom",children:n("button",{onClick:()=>a(!0),className:"w-full md:w-auto px-4 py-3 bg-blue-600 rounded-lg hover:bg-blue-500 active:bg-blue-700 text-sm font-medium",children:"+ Add Task"})}),n(H,{isOpen:o,onClose:()=>a(!1),title:"Add New Task",children:n("form",{onSubmit:C,children:[n("div",{className:"space-y-4",children:[n("div",{children:[n("label",{className:"block text-sm text-gray-400 mb-1",children:"Name"}),n("input",{type:"text",value:m.name,onInput:_=>d({...m,name:_.target.value}),required:!0,className:"w-full bg-gray-700 rounded-lg px-3 py-3 text-base focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),n("div",{children:[n("label",{className:"block text-sm text-gray-400 mb-1",children:"Description"}),n("textarea",{value:m.description,onInput:_=>d({...m,description:_.target.value}),rows:3,className:"w-full bg-gray-700 rounded-lg px-3 py-3 text-base focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),n("div",{children:[n("label",{className:"block text-sm text-gray-400 mb-1",children:"Test Cases (one per line)"}),n("textarea",{value:m.testCases,onInput:_=>d({...m,testCases:_.target.value}),rows:3,placeholder:`Test case 1
Test case 2`,className:"w-full bg-gray-700 rounded-lg px-3 py-3 text-base focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),n("div",{className:"flex gap-2 mt-6",children:[n("button",{type:"button",onClick:()=>a(!1),className:"flex-1 px-4 py-3 bg-gray-700 rounded-lg hover:bg-gray-600",children:"Cancel"}),n("button",{type:"submit",className:"flex-1 px-4 py-3 bg-blue-600 rounded-lg hover:bg-blue-500",children:"Add"})]})]})}),n(H,{isOpen:!!i,onClose:()=>c(null),title:i?.name||"",children:i&&n(G,{children:[n("div",{className:"space-y-4",children:[n("div",{children:[n("label",{className:"text-xs text-gray-500",children:"Status"}),n("p",{className:"text-sm",children:i.status})]}),i.description&&n("div",{children:[n("label",{className:"text-xs text-gray-500",children:"Description"}),n("p",{className:"text-sm",children:i.description})]}),i.test_cases&&i.test_cases.length>0&&n("div",{children:[n("label",{className:"text-xs text-gray-500",children:"Test Cases"}),n("ul",{className:"text-sm list-disc list-inside",children:i.test_cases.map((_,b)=>n("li",{children:_},b))})]})]}),n("div",{className:"flex gap-2 mt-6",children:[n("button",{onClick:()=>c(null),className:"flex-1 px-4 py-3 bg-gray-700 rounded-lg hover:bg-gray-600",children:"Close"}),n("button",{onClick:()=>{r(i),c(null)},className:"flex-1 px-4 py-3 bg-blue-600 rounded-lg hover:bg-blue-500",children:"Work on this"})]})]})})]})}function Ct({messages:t,loading:e,branch:l,onSend:r,onClear:o,onShowAddTask:a}){const[i,c]=x(""),[m,d]=x(!1),p=Pe(null),s=Pe(null);fe(()=>{p.current&&(p.current.scrollTop=p.current.scrollHeight)},[t]);const g=()=>{const f=s.current;f&&(f.style.height="auto",f.style.height=Math.min(f.scrollHeight,120)+"px")},h=()=>{const f=i.trim();!f||e||(r(f),c(""),s.current&&(s.current.style.height="auto"))},y=f=>{f.key==="Enter"&&!f.shiftKey&&(f.preventDefault(),h())},C=f=>{r(f)},v=f=>{let _=f.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");return _=_.replace(/```(\w*)\n?([\s\S]*?)```/g,(b,S,A)=>`<pre class="bg-gray-900 rounded p-3 my-2 overflow-x-auto text-xs font-mono"><code>${A.trim()}</code></pre>`),_=_.replace(/`([^`]+)`/g,'<code class="bg-gray-900 px-1.5 py-0.5 rounded text-xs font-mono">$1</code>'),_=_.replace(/\*\*([^*]+)\*\*/g,"<strong>$1</strong>"),_=_.replace(/\*([^*]+)\*/g,"<em>$1</em>"),_=_.replace(/\n/g,"<br>"),_};return n("div",{className:"flex flex-col h-full",children:[n("div",{className:"bg-gray-800 rounded-xl mx-3 mt-3 p-3 flex items-center justify-between flex-shrink-0",children:[n("div",{className:"flex-1 min-w-0",children:n("p",{className:"text-sm text-gray-300 truncate",children:l})}),n("button",{onClick:()=>C("Create a PR for current changes"),className:"ml-2 px-3 py-1 text-sm font-medium hover:bg-gray-700 rounded",children:"View PR"}),n("button",{onClick:()=>d(!0),className:"ml-1 p-1.5 hover:bg-gray-700 rounded",children:n("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:n("path",{d:"M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z"})})})]}),n("div",{ref:p,className:"flex-1 overflow-y-auto p-4 space-y-3",children:[t.length===0?n("div",{className:"text-gray-500 text-sm text-center py-8",children:"Start a conversation with Claude"}):t.map((f,_)=>n("div",{className:f.role==="user"?"bg-blue-600 rounded-lg p-3 ml-4 md:ml-8":f.role==="error"?"bg-red-600/20 text-red-400 rounded-lg p-3":"bg-gray-700 rounded-lg p-3 mr-4 md:mr-8",children:n("div",{className:"text-sm chat-content",dangerouslySetInnerHTML:{__html:v(f.content)}})},_)),e&&n("div",{className:"bg-gray-700 rounded-lg p-3 mr-4 md:mr-8",children:n("div",{className:"flex gap-1",children:[n("span",{className:"w-2 h-2 bg-gray-400 rounded-full loading-dot"}),n("span",{className:"w-2 h-2 bg-gray-400 rounded-full loading-dot"}),n("span",{className:"w-2 h-2 bg-gray-400 rounded-full loading-dot"})]})})]}),n("div",{className:"p-3 flex-shrink-0 safe-bottom",children:n("div",{className:"bg-gray-800 rounded-xl p-3",children:[n("textarea",{ref:s,value:i,onInput:f=>{c(f.target.value),g()},onKeyDown:y,placeholder:"Add feedback...",rows:1,className:"w-full bg-transparent text-base focus:outline-none resize-none overflow-hidden",style:{minHeight:"24px",maxHeight:"120px"}}),n("div",{className:"flex items-center justify-between mt-3 pt-3 border-t border-gray-700",children:[n("div",{className:"flex items-center gap-1",children:n("span",{className:"text-xs bg-gray-700 px-2 py-1 rounded-full text-gray-400",children:"StreetsDigital/vibes"})}),n("div",{className:"flex items-center gap-1",children:[n("button",{onClick:a,className:"p-2 hover:bg-gray-700 rounded-lg active:bg-gray-600",title:"Add task",children:n("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})}),n("button",{onClick:()=>C("/commit"),className:"p-2 hover:bg-gray-700 rounded-lg active:bg-gray-600",title:"Commit",children:n("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),n("button",{onClick:()=>C("Create a pull request"),className:"p-2 hover:bg-gray-700 rounded-lg active:bg-gray-600",title:"Create PR",children:n("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})})}),n("button",{onClick:h,disabled:e,className:"p-2 bg-white text-gray-900 rounded-lg hover:bg-gray-200 active:bg-gray-300 ml-1",title:"Send",children:e?n("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:n("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8 7a1 1 0 00-1 1v4a1 1 0 001 1h4a1 1 0 001-1V8a1 1 0 00-1-1H8z",clipRule:"evenodd"})}):n("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:n("path",{d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z"})})})]})]})]})}),n(Nt,{isOpen:m,onClose:()=>d(!1),children:n("div",{className:"space-y-1",children:[n("button",{onClick:()=>{C("Summarize current tasks"),d(!1)},className:"w-full text-left px-4 py-3 hover:bg-gray-700 rounded-lg",children:"Summarize tasks"}),n("button",{onClick:()=>{C("What should I work on next?"),d(!1)},className:"w-full text-left px-4 py-3 hover:bg-gray-700 rounded-lg",children:"Suggest next task"}),n("button",{onClick:()=>{C("/verify"),d(!1)},className:"w-full text-left px-4 py-3 hover:bg-gray-700 rounded-lg",children:"Run quality checks"}),n("button",{onClick:()=>{C("Show git status"),d(!1)},className:"w-full text-left px-4 py-3 hover:bg-gray-700 rounded-lg",children:"Git status"}),n("button",{onClick:()=>{o(),d(!1)},className:"w-full text-left px-4 py-3 hover:bg-gray-700 rounded-lg text-red-400",children:"Clear chat history"}),n("button",{onClick:()=>d(!1),className:"w-full text-left px-4 py-3 text-gray-400 hover:bg-gray-700 rounded-lg",children:"Cancel"})]})})]})}function de({checked:t,onChange:e,disabled:l}){return n("label",{className:"relative inline-flex items-center cursor-pointer",children:[n("input",{type:"checkbox",checked:t,onChange:r=>e(r.target.checked),disabled:l,className:"sr-only peer"}),n("div",{className:"w-9 h-5 bg-gray-600 peer-focus:ring-2 peer-focus:ring-blue-500 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-4 after:w-4 after:transition-all peer-checked:bg-blue-600"})]})}function St(){const t=ht(),e=ft(),l=gt(),r=yt(),[o,a]=x(!1),[i,c]=x(!1),[m,d]=x(!1),[p,s]=x(null),[g,h]=x(null),[y,C]=x(null),[v,f]=x(null),[_,b]=x({name:"",command:"",args:"",scope:"project"}),[S,A]=x({name:"",description:"",trigger:"",solution:"",scope:"project"}),[M,L]=x({event:"PreToolUse",command:"",scope:"project"});fe(()=>{t.load(),e.load(),l.load(),r.load()},[]);const B=async u=>{u.preventDefault(),await t.add({name:_.name,command:_.command,args:_.args.split(" ").filter(D=>D),scope:_.scope}),b({name:"",command:"",args:"",scope:"project"}),a(!1)},I=async u=>{const D=await t.getOne(u.name,u.scope);D&&s(D)},R=async u=>{u.preventDefault(),p&&(await t.update(p.name,p),s(null))},O=async()=>{!p||!confirm(`Delete MCP server "${p.name}"?`)||(await t.remove(p.name,p.scope),s(null))},E=async u=>{u.preventDefault(),await e.create(S),A({name:"",description:"",trigger:"",solution:"",scope:"project"}),c(!1)},Je=async u=>{const D=await e.getContent(u.file);h({skill:u,content:D})},Ve=async u=>{u.preventDefault(),g&&(await e.updateContent(g.skill.file,g.content),h(null))},Ge=async()=>{!g||!confirm(`Delete skill "${g.skill.name}"?`)||(await e.remove(g.skill.file),h(null))},Ke=async u=>{const D=await l.getDetails(u.name);D&&C(D)},Qe=async u=>{u.preventDefault(),await r.add(M),L({event:"PreToolUse",command:"",scope:"project"}),d(!1)},Xe=u=>{f(u)},Ye=async()=>{!v||!confirm(`Delete hook "${v.event}"?`)||(await r.remove(v.event,v.command,v.scope),f(null))};return n("div",{className:"flex-1 overflow-y-auto",children:[n("div",{className:"p-4 border-b border-gray-700",children:[n("h2",{className:"font-semibold text-gray-300",children:"Claude Tools"}),n("p",{className:"text-xs text-gray-500",children:"MCP servers, skills, and settings"})]}),n(Q,{title:"MCP Servers",onAdd:()=>a(!0),isEmpty:t.servers.length===0,emptyText:"No MCP servers configured",children:t.servers.map(u=>n(De,{title:u.name,subtitle:`${u.scope} • ${u.command}`,checked:u.enabled,onToggle:D=>t.toggle(u.name,u.scope,D),onClick:()=>I(u)},`${u.scope}-${u.name}`))}),n(Q,{title:"Skills",onAdd:()=>c(!0),isEmpty:e.skills.length===0,emptyText:"No skills created yet",children:e.skills.map(u=>n("div",{className:"p-2 bg-gray-800 rounded-lg cursor-pointer hover:bg-gray-700",onClick:()=>Je(u),children:[n("div",{className:"text-sm font-medium",children:u.name}),n("div",{className:"text-xs text-gray-500",children:u.description||u.scope})]},u.file))}),n(Q,{title:"Built-in Tools",isEmpty:l.tools.length===0,children:l.tools.map(u=>n(De,{title:u.name,subtitle:u.description,checked:u.enabled,onToggle:D=>l.toggle(u.name,D),onClick:()=>Ke(u)},u.name))}),n(Q,{title:"Hooks",onAdd:()=>d(!0),isEmpty:r.hooks.length===0,emptyText:"No hooks configured",children:r.hooks.map((u,D)=>n("div",{className:"flex items-center justify-between p-2 bg-gray-800 rounded-lg cursor-pointer hover:bg-gray-700",onClick:()=>Xe(u),children:[n("div",{className:"flex-1 min-w-0",children:[n("div",{className:"text-sm font-medium",children:u.event}),n("div",{className:"text-xs text-gray-500 truncate",children:[u.scope," • ",u.command]})]}),n("button",{onClick:Ze=>{Ze.stopPropagation(),r.remove(u.event,u.command,u.scope)},className:"ml-2 p-1 text-red-400 hover:text-red-300",children:n("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},D))}),n("div",{className:"p-4",children:[n("h3",{className:"text-sm font-medium text-gray-400 mb-3",children:"Quick Actions"}),n("div",{className:"space-y-2",children:[n(X,{onClick:()=>{},label:"Commit changes"}),n(X,{onClick:()=>{},label:"Create PR"}),n(X,{onClick:()=>{},label:"Run quality checks"}),n(X,{onClick:()=>{},label:"Extract learnings"})]})]}),n(H,{isOpen:o,onClose:()=>a(!1),title:"Add MCP Server",children:n("form",{onSubmit:B,children:[n(z,{children:[n($,{label:"Name",children:n("input",{type:"text",value:_.name,onInput:u=>b({..._,name:u.target.value}),required:!0,placeholder:"my-server",className:"form-input"})}),n($,{label:"Command",children:n("input",{type:"text",value:_.command,onInput:u=>b({..._,command:u.target.value}),required:!0,placeholder:"npx",className:"form-input"})}),n($,{label:"Arguments (space separated)",children:n("input",{type:"text",value:_.args,onInput:u=>b({..._,args:u.target.value}),placeholder:"-y @modelcontextprotocol/server-github",className:"form-input"})}),n($,{label:"Scope",children:n("select",{value:_.scope,onChange:u=>b({..._,scope:u.target.value}),className:"form-input",children:[n("option",{value:"project",children:"Project"}),n("option",{value:"global",children:"Global"})]})})]}),n(F,{onCancel:()=>a(!1),submitLabel:"Add"})]})}),n(H,{isOpen:!!p,onClose:()=>s(null),title:"MCP Server",children:p&&n("form",{onSubmit:R,children:[n(z,{children:[n($,{label:"Name",children:n("input",{type:"text",value:p.name,onInput:u=>s({...p,name:u.target.value}),className:"form-input"})}),n($,{label:"Command",children:n("input",{type:"text",value:p.command,onInput:u=>s({...p,command:u.target.value}),className:"form-input"})}),n($,{label:"Arguments",children:n("input",{type:"text",value:p.args.join(" "),onInput:u=>s({...p,args:u.target.value.split(" ").filter(D=>D)}),className:"form-input"})}),n("div",{className:"flex items-center justify-between",children:[n("span",{className:"text-sm text-gray-400",children:"Enabled"}),n(de,{checked:p.enabled,onChange:u=>s({...p,enabled:u})})]}),n("div",{className:"text-xs text-gray-500",children:["Scope: ",p.scope]})]}),n(F,{onCancel:()=>s(null),onDelete:O,submitLabel:"Save"})]})}),n(H,{isOpen:i,onClose:()=>c(!1),title:"Create Skill",children:n("form",{onSubmit:E,children:[n(z,{children:[n($,{label:"Name",children:n("input",{type:"text",value:S.name,onInput:u=>A({...S,name:u.target.value}),required:!0,placeholder:"fix-common-error",className:"form-input"})}),n($,{label:"Description",children:n("input",{type:"text",value:S.description,onInput:u=>A({...S,description:u.target.value}),placeholder:"What this skill does",className:"form-input"})}),n($,{label:"Trigger (when to use)",children:n("textarea",{value:S.trigger,onInput:u=>A({...S,trigger:u.target.value}),rows:2,placeholder:"When error X occurs...",className:"form-input"})}),n($,{label:"Solution",children:n("textarea",{value:S.solution,onInput:u=>A({...S,solution:u.target.value}),rows:4,placeholder:"Steps to fix...",className:"form-input"})})]}),n(F,{onCancel:()=>c(!1),submitLabel:"Create"})]})}),n(H,{isOpen:!!g,onClose:()=>h(null),title:g?.skill.name||"",children:g&&n("form",{onSubmit:Ve,children:[n(z,{children:[n($,{label:"Content",children:n("textarea",{value:g.content,onInput:u=>h({...g,content:u.target.value}),rows:12,className:"form-input font-mono text-sm"})}),n("div",{className:"text-xs text-gray-500",children:["Path: ",g.skill.file]})]}),n(F,{onCancel:()=>h(null),onDelete:Ge,submitLabel:"Save"})]})}),n(H,{isOpen:!!y,onClose:()=>C(null),title:y?.name||"",children:y&&n("div",{className:"space-y-4",children:[n("div",{children:[n("label",{className:"block text-sm text-gray-400 mb-1",children:"Description"}),n("p",{className:"text-sm",children:y.description})]}),n("div",{children:[n("label",{className:"block text-sm text-gray-400 mb-1",children:"Details"}),n("p",{className:"text-sm text-gray-300",children:y.details||"No additional details available."})]}),n("div",{className:"flex items-center justify-between p-3 bg-gray-700 rounded-lg",children:[n("span",{className:"text-sm",children:"Enabled"}),n(de,{checked:y.enabled,onChange:u=>{l.toggle(y.name,u),C({...y,enabled:u})}})]}),y.denied_in&&n("div",{className:"text-xs text-yellow-400",children:["Disabled in ",y.denied_in," settings"]}),n("button",{onClick:()=>C(null),className:"w-full px-4 py-3 bg-gray-700 rounded-lg hover:bg-gray-600",children:"Close"})]})}),n(H,{isOpen:m,onClose:()=>d(!1),title:"Add Hook",children:n("form",{onSubmit:Qe,children:[n(z,{children:[n($,{label:"Event",children:n("select",{value:M.event,onChange:u=>L({...M,event:u.target.value}),className:"form-input",children:[n("option",{value:"PreToolUse",children:"PreToolUse - Before tool runs"}),n("option",{value:"PostToolUse",children:"PostToolUse - After tool runs"}),n("option",{value:"Notification",children:"Notification - On notifications"}),n("option",{value:"Stop",children:"Stop - When Claude stops"})]})}),n($,{label:"Command",children:n("input",{type:"text",value:M.command,onInput:u=>L({...M,command:u.target.value}),required:!0,placeholder:"npm run lint",className:"form-input"})}),n($,{label:"Scope",children:n("select",{value:M.scope,onChange:u=>L({...M,scope:u.target.value}),className:"form-input",children:[n("option",{value:"project",children:"Project"}),n("option",{value:"global",children:"Global"})]})})]}),n(F,{onCancel:()=>d(!1),submitLabel:"Add"})]})}),n(H,{isOpen:!!v,onClose:()=>f(null),title:"Hook",children:v&&n("div",{className:"space-y-4",children:[n($,{label:"Event",children:n("p",{className:"text-sm",children:v.event})}),n($,{label:"Command",children:n("p",{className:"text-sm font-mono bg-gray-700 p-2 rounded",children:v.command})}),n($,{label:"Scope",children:n("p",{className:"text-sm",children:v.scope})}),n(F,{onCancel:()=>f(null),onDelete:Ye,submitLabel:""})]})})]})}function Q({title:t,onAdd:e,isEmpty:l,emptyText:r,children:o}){return n("div",{className:"p-4 border-b border-gray-700",children:[n("div",{className:"flex items-center justify-between mb-3",children:[n("h3",{className:"text-sm font-medium text-gray-400",children:t}),e&&n("button",{onClick:e,className:"text-xs px-2 py-1 bg-gray-700 rounded hover:bg-gray-600",children:"+ Add"})]}),n("div",{className:"space-y-2",children:l?n("div",{className:"text-sm text-gray-500",children:r}):o})]})}function De({title:t,subtitle:e,checked:l,onToggle:r,onClick:o}){return n("div",{className:"flex items-center justify-between p-2 bg-gray-800 rounded-lg cursor-pointer hover:bg-gray-700",children:[n("div",{className:"flex-1 min-w-0",onClick:o,children:[n("div",{className:"text-sm font-medium truncate",children:t}),n("div",{className:"text-xs text-gray-500",children:e})]}),n("div",{onClick:a=>a.stopPropagation(),children:n(de,{checked:l,onChange:r})})]})}function X({onClick:t,label:e}){return n("button",{onClick:t,className:"w-full text-left px-3 py-2 bg-gray-800 rounded-lg hover:bg-gray-700 text-sm",children:e})}function z({children:t}){return n("div",{className:"space-y-4",children:t})}function $({label:t,children:e}){return n("div",{children:[n("label",{className:"block text-sm text-gray-400 mb-1",children:t}),e]})}function F({onCancel:t,onDelete:e,submitLabel:l}){return n("div",{className:"flex gap-2 mt-6",children:[e&&n("button",{type:"button",onClick:e,className:"px-4 py-3 bg-red-600/20 text-red-400 rounded-lg hover:bg-red-600/30",children:"Delete"}),n("button",{type:"button",onClick:t,className:"flex-1 px-4 py-3 bg-gray-700 rounded-lg hover:bg-gray-600",children:"Cancel"}),l&&n("button",{type:"submit",className:"flex-1 px-4 py-3 bg-blue-600 rounded-lg hover:bg-blue-500",children:l})]})}function Tt(){const[t,e]=x("board"),l=_t(),r=mt(),o=pt(),a=vt(),i=bt();fe(()=>{l.refresh(),r.loadHistory(),o.load(),a.loadBranch(),c();const d=setInterval(l.refresh,1e4);return()=>clearInterval(d)},[]);const c=async()=>{(await i.ping()).summary&&e("chat")},m=d=>{e("chat"),r.sendMessage(`Help me implement: ${d.name}

Description: ${d.description||"None"}

Test cases:
${d.test_cases?.join(`
`)||"None"}`)};return n("div",{className:"bg-gray-900 text-gray-100 min-h-screen flex flex-col",children:[n("header",{className:"bg-gray-800 border-b border-gray-700 px-4 py-3 flex-shrink-0",children:n("div",{className:"flex items-center justify-between",children:[n("div",{className:"flex items-center gap-2",children:[n("h1",{className:"text-lg font-bold text-blue-400",children:"⚡"}),n(Pt,{projects:o.projects,currentProject:o.currentProject,onSwitch:async d=>{await o.switchProject(d),l.refresh(),r.loadHistory(),a.loadBranch()}})]}),n("div",{className:"flex items-center gap-2",children:[n("span",{className:"text-xs text-gray-400 hidden sm:inline",children:l.board?.stats?`${l.board.stats.passing}/${l.board.stats.total} complete (${l.board.stats.progress_percent}%)`:"Loading..."}),n("button",{onClick:l.refresh,className:"p-2 bg-gray-700 rounded-lg hover:bg-gray-600 active:bg-gray-500 text-sm",children:"↻"})]})]})}),n("div",{className:"md:hidden flex border-b border-gray-700 bg-gray-800 flex-shrink-0",children:[n(ae,{active:t==="board",onClick:()=>e("board"),label:"Board"}),n(ae,{active:t==="chat",onClick:()=>e("chat"),label:"Claude"}),n(ae,{active:t==="tools",onClick:()=>e("tools"),label:"Tools"})]}),n("div",{className:"flex flex-1 overflow-hidden",children:[n("main",{className:`flex-1 flex flex-col overflow-hidden ${t!=="board"?"hidden md:flex":"flex"}`,children:n(wt,{data:l.board,onMoveTask:l.moveTask,onAddTask:l.createTask,onWorkOnTask:m})}),n("aside",{className:`w-full md:w-96 bg-gray-900 md:bg-gray-800 md:border-l border-gray-700 flex-col h-full ${t!=="chat"?"hidden md:flex":"flex"}`,children:n(Ct,{messages:r.messages,loading:r.loading,branch:a.branch,onSend:r.sendMessage,onClear:r.clearHistory,onShowAddTask:()=>e("board")})}),n("aside",{className:`w-full md:w-96 bg-gray-900 md:bg-gray-800 md:border-l border-gray-700 flex-col h-full ${t!=="tools"?"hidden":"flex"}`,children:n(St,{})})]})]})}function Pt({projects:t,currentProject:e,onSwitch:l}){const[r,o]=x(!1);return n("div",{className:"relative",children:[n("button",{onClick:()=>o(!r),className:"flex items-center gap-1 px-2 py-1 bg-gray-700 rounded-lg hover:bg-gray-600 text-sm",children:[n("span",{children:e||"vibes"}),n("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),r&&n("div",{className:"absolute left-0 mt-1 w-48 bg-gray-800 border border-gray-700 rounded-lg shadow-lg z-50",children:n("div",{className:"py-1 max-h-60 overflow-y-auto",children:t.map(a=>n("button",{onClick:()=>{l(a.path),o(!1)},className:`w-full text-left px-3 py-2 hover:bg-gray-700 text-sm ${a.current?"text-blue-400":""}`,children:[a.current&&n("span",{className:"mr-1",children:"●"}),a.name]},a.path))})})]})}function ae({active:t,onClick:e,label:l}){return n("button",{onClick:e,className:`flex-1 py-3 text-sm font-medium text-center ${t?"tab-active text-blue-400":"text-gray-400"}`,children:l})}ot(n(Tt,{}),document.getElementById("app"));
